{"version":3,"sources":["webpack:///./src/pages/company/ContactsPage/HoldingTab/Tree/TreeLeaf.vue?41d5","webpack:///src/pages/company/ContactsPage/HoldingTab/Tree/TreeLeaf.vue","webpack:///./src/pages/company/ContactsPage/HoldingTab/Tree/TreeLeaf.vue?8e2b","webpack:///./src/pages/company/ContactsPage/HoldingTab/Tree/TreeLeaf.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","hasChildren","on","toggleOpen","staticClass","select","node","logo","name","attrs","_e","enter","clearHeight","leave","directives","rawName","value","expression","state","childrenProp","staticRenderFns","components","TreeNode","CompanyCard","created","self","$on","isOpen","mounted","preselectedCompany","id","props","data","length","methods","nodeEl","event","target","parentNode","classList","toggle","openedNodeClass","$el","add","selectedNodeClass","selectNode","deselect","remove","el","style","height","offsetHeight","realHeight","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,MAAM,CAACN,EAAIO,YAAc,YAAa,YAAa,CAAC,cAAeP,EAAIO,eAAe,CAACH,EAAG,IAAI,CAACI,GAAG,CAAC,MAAQR,EAAIS,cAAcL,EAAG,OAAO,CAACM,YAAY,iBAAiBF,GAAG,CAAC,MAAQR,EAAIW,SAAS,CAAEX,EAAIY,KAAKC,MAAQb,EAAIY,KAAKE,KAAMV,EAAG,eAAe,CAACW,MAAM,CAAC,QAAUf,EAAIY,KAAK,KAAO,OAAOZ,EAAIgB,MAAM,GAAGZ,EAAG,aAAa,CAACW,MAAM,CAAC,KAAO,cAAcP,GAAG,CAAC,MAAQR,EAAIiB,MAAM,cAAcjB,EAAIkB,YAAY,MAAQlB,EAAImB,MAAM,cAAcnB,EAAIkB,cAAc,CAACd,EAAG,WAAW,CAACgB,WAAW,CAAC,CAACN,KAAK,OAAOO,QAAQ,SAASC,MAAOtB,EAAU,OAAEuB,WAAW,WAAWR,MAAM,CAAC,MAAQf,EAAIY,KAAKZ,EAAIwB,MAAMC,cAAc,MAAQzB,EAAIwB,UAAU,IAAI,IAC7sBE,EAAkB,G,4CCqBtB,gBACA,kBAGA,GACEZ,KAAM,WACNa,WAAY,CACVC,SAAU,WAAd,oDACIC,YAAJ,QAEEC,QANF,WAOI,IAAIC,EAAO9B,KAEX8B,EAAKP,MAAMQ,IAAI,aAAa,WAC1BD,EAAKE,QAAS,KAEhBF,EAAKP,MAAMQ,IAAI,eAAe,WAC5BD,EAAKE,QAAS,MAGlBC,QAhBF,WAiBQjC,KAAKkC,oBAAsBlC,KAAKkC,qBAAuBlC,KAAKW,KAAKwB,IACnEnC,KAAKU,UAGT0B,MAAO,CAAC,OAAQ,QAAS,sBACzBC,KAAM,WACJ,MAAO,CACL/B,YAAaN,KAAKW,KAAKX,KAAKuB,MAAMC,eAAiBxB,KAAKW,KAAKX,KAAKuB,MAAMC,cAAcc,OAAS,EAC/FN,QAAQ,IAGZO,QAAS,CACP/B,WADJ,SACA,GACM,IAAIgC,EAASC,EAAMC,OAAOC,WAC1BH,EAAOI,UAAUC,OAAOC,GACxB9C,KAAKgC,QAAUhC,KAAKgC,QAEtBtB,OANJ,SAMA,GACMV,KAAK+C,IAAIH,UAAUI,IAAIC,GACvBjD,KAAKuB,MAAM2B,WAAWlD,KAAKW,KAAMX,KAAKmD,WAExCA,SAVJ,WAWMnD,KAAK+C,IAAIH,UAAUQ,OAAOH,IAE5BjC,MAbJ,SAaA,GACMqC,EAAGC,MAAMC,OAAS,OAClB,IAAN,6BACMF,EAAGC,MAAMC,OAAS,MAGlBF,EAAGG,aAEHH,EAAGC,MAAMC,OAASE,GAEpBvC,MAvBJ,SAuBA,GACMmC,EAAGC,MAAMC,OAAS,OAClB,IAAN,6BACMF,EAAGC,MAAMC,OAASE,EAGlBJ,EAAGG,aAEHH,EAAGC,MAAMC,OAAS,OAEpBtC,YAjCJ,SAiCA,GACMoC,EAAGC,MAAMC,OAAS,QCxFsX,I,YCO1YG,EAAY,eACd,EACA5D,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAiC,E","file":"js/chunk-2d21b8a6-legacy.f947f312.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{class:[_vm.hasChildren ? 'tree-node': 'tree-leaf', {'opened-node': _vm.hasChildren}]},[_c('i',{on:{\"click\":_vm.toggleOpen}}),_c('span',{staticClass:\"node-container\",on:{\"click\":_vm.select}},[(_vm.node.logo && _vm.node.name)?_c('company-card',{attrs:{\"company\":_vm.node,\"size\":\"s\"}}):_vm._e()],1),_c('transition',{attrs:{\"name\":\"tree-slide\"},on:{\"enter\":_vm.enter,\"after-enter\":_vm.clearHeight,\"leave\":_vm.leave,\"after-leave\":_vm.clearHeight}},[_c('TreeNode',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],attrs:{\"nodes\":_vm.node[_vm.state.childrenProp],\"state\":_vm.state}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li :class=\"[hasChildren ? 'tree-node': 'tree-leaf', {'opened-node': hasChildren}]\">\n    <i @click=\"toggleOpen\"></i>\n\n    <span class=\"node-container\" @click=\"select\">\n      <company-card v-if=\"node.logo && node.name\" :company=\"node\" size=\"s\"/>\n    </span>\n\n    <transition @enter=\"enter\"\n                @after-enter=\"clearHeight\"\n                @leave=\"leave\"\n                @after-leave=\"clearHeight\"\n                name=\"tree-slide\">\n      <TreeNode v-show=\"isOpen\" :nodes=\"node[state.childrenProp]\" :state=\"state\"></TreeNode>\n    </transition>\n  </li>\n</template>\n\n\n<script>\nimport CompanyCard from '@/components-app/CompanyCard'\n\nconst openedNodeClass = 'opened-node'\nconst selectedNodeClass = 'selected-node'\n// const closedNodeClass = 'closed-node'\n\nexport default {\n  name: 'TreeLeaf',\n  components: {\n    TreeNode: () => import('./TreeNode'),\n    CompanyCard,\n  },\n  created() {\n    var self = this\n    // Listen for comands from top Tree component\n    self.state.$on('expandAll', function() {\n      self.isOpen = true\n    })\n    self.state.$on('collapseAll', function() {\n      self.isOpen = false\n    })\n  },\n  mounted() {\n    if (this.preselectedCompany && this.preselectedCompany === this.node.id) {\n      this.select()\n    }\n  },\n  props: ['node', 'state', 'preselectedCompany'],\n  data: function() {\n    return {\n      hasChildren: this.node[this.state.childrenProp] && this.node[this.state.childrenProp].length > 0,\n      isOpen: true,\n    }\n  },\n  methods: {\n    toggleOpen(event) {\n      var nodeEl = event.target.parentNode\n      nodeEl.classList.toggle(openedNodeClass)\n      this.isOpen = !this.isOpen\n    },\n    select(event) {\n      this.$el.classList.add(selectedNodeClass)\n      this.state.selectNode(this.node, this.deselect)\n    },\n    deselect() {\n      this.$el.classList.remove(selectedNodeClass)\n    },\n    enter(el) {\n      el.style.height = 'auto'\n      const realHeight = getComputedStyle(el).height\n      el.style.height = '0px'\n\n      /* eslint-disable no-unused-expressions */\n      el.offsetHeight // Force repaint\n\n      el.style.height = realHeight\n    },\n    leave(el) {\n      el.style.height = 'auto'\n      const realHeight = getComputedStyle(el).height\n      el.style.height = realHeight\n\n      /* eslint-disable no-unused-expressions */\n      el.offsetHeight // Force repaint\n\n      el.style.height = '0px'\n    },\n    clearHeight(el) {\n      el.style.height = null\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeLeaf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeLeaf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeLeaf.vue?vue&type=template&id=5c47d1c7&\"\nimport script from \"./TreeLeaf.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeLeaf.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}