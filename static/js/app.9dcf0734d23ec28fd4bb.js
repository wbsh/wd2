webpackJsonp([1],{"1/oy":function(t,e){},"1IYV":function(t,e){},Id91:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};a.d(n,"apiToCountry",function(){return ma}),a.d(n,"apiToCurrency",function(){return va});var r=a("/5sW"),o=(a("1IYV"),a("ESwS")),s=a.n(o),i=a("e6fC"),l=6e4;function c(t){return t.getUTCFullYear()+"-"+d(t.getUTCMonth()+1)+"-"+d(t.getUTCDate())}function d(t){return t<10?"0"+t:t}var u={prepareForUTCString:function(t){return new Date(t.getTime()-t.getTimezoneOffset()*l)},formatDate:c,formatDateTime:function(t){return c(t)+", "+d(t.getUTCHours())+":"+d(t.getUTCMinutes())+":"+d(t.getUTCSeconds())}};r.a.filter("bsDate",function(t){return u.formatDate(t)});var m=a("TXmL"),v=a("UpdR"),p=a.n(v),f=a("YFeG"),_=a.n(f),h={en:p.a,bg:_.a};r.a.use(m.a);var g=new m.a({locale:"en",messages:h,fallbackLocale:"en"}),y=a("NYxO"),b=a("Dd8w"),C=a.n(b),D=a("mvHQ"),x=a.n(D),$=a("mtWM"),w=a.n($);function S(t){return{email:t.email,firstName:t.firstName,lastName:t.lastName,name:t.firstName+" "+t.lastName,phone:t.phone,settings:{lang:"en"}}}var P=function(t){var e,a={email:(e=t).email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:e.phone};return w.a.post("/Account/",a).then(S)},M=function(t){var e=t.email,a=t.password,n={headers:{Authorization:"Basic "+btoa(e+":"+a)}};return w.a.post("/Account/Login",null,n).then(S)},R=function(){return w.a.get("/Account/Logout")},N=function(t){return w.a.post("/Account/Recover",{email:t})},I=function(t,e){return w.a.post("/Account/Recover/"+t,{password:e})},T=a("Gu7T"),k=a.n(T),A=a("/ocq");function F(t,e,a){cr.getters.token?a({path:"/"}):a()}function E(t,e,a){cr.getters.token?"/login"===e.path&&e.query.redirect&&e.query.redirect!==t.path?a({path:e.query.redirect}):a():a({path:"/login",query:{redirect:t.fullPath}})}var q=a("+cKO"),U={validations:{formData:{firstName:{required:q.required},lastName:{required:q.required},phone:{required:q.required},password:{required:q.required},email:{required:q.required,email:q.email}}},data:function(){return{formData:{firstName:null,lastName:null,phone:null,password:null,email:null},loading:!1,errMsg:null}},methods:{submit:function(){var t=this;this.$v.formData.$invalid||(this.loading=!0,this.$store.dispatch("register",this.formData).then(function(){t.$emit("success")}).catch(function(e){t.errMsg=t.$t(e.error)}).finally(function(){t.loading=!1}))}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"register-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger text-center"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("FirstName"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.firstName,expression:"formData.firstName"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.firstName.required&&t.$v.formData.firstName.$dirty}],attrs:{type:"text"},domProps:{value:t.formData.firstName},on:{blur:function(e){t.$v.formData.firstName.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"firstName",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("Please, enter your first name.")])])]),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("LastName"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lastName,expression:"formData.lastName"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.lastName.required&&t.$v.formData.lastName.$dirty}],attrs:{type:"text"},domProps:{value:t.formData.lastName},on:{blur:function(e){t.$v.formData.lastName.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"lastName",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("Please, enter your last name.")])])]),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Phone"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.phone.required&&t.$v.formData.phone.$dirty}],attrs:{type:"text"},domProps:{value:t.formData.phone},on:{blur:function(e){t.$v.formData.phone.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("Please, enter your phone number.")])])]),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Email"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control",class:[{"is-invalid":(!t.$v.formData.email.required||!t.$v.formData.email.email)&&t.$v.formData.email.$dirty}],attrs:{type:"text"},domProps:{value:t.formData.email},on:{blur:function(e){t.$v.formData.email.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$v.formData.email.required?"Please, enter valid email":"Please, enter email"))])])]),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Password"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.password.required&&t.$v.formData.password.$dirty}],attrs:{type:"password"},domProps:{value:t.formData.password},on:{blur:function(e){t.$v.formData.password.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("Please, enter a password.")])])]),t._v(" "),a("div",{staticClass:"text-center py-3"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.$v.formData.$invalid}},[t._v(t._s(t.$t("regFormSubmit")))])]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},O={components:{RegisterForm:a("VU/8")(U,V,!1,null,null,null).exports},data:function(){return{isActionSuccessful:!1}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 mx-auto pt-5"},[t.isActionSuccessful?t._e():a("div",{staticClass:"card"},[a("h2",{staticClass:"card-header text-center"},[t._v(t._s(t.$t("registerPageTitle")))]),t._v(" "),a("div",{staticClass:"card-body"},[a("register-form",{on:{success:function(e){t.isActionSuccessful=!0}}})],1),t._v(" "),a("div",{staticClass:"card-footer text-center"},[a("router-link",{attrs:{to:"/login"}},[t._v(t._s(t.$t("Login")))]),t._v("   |   "),a("router-link",{attrs:{to:"/forgot"}},[t._v("Forgot password?")])],1)]),t._v(" "),t.isActionSuccessful?a("div",[a("p",[t._v("We have received your registration and have sent a mail to your email address.")]),t._v(" "),a("p",[t._v("Please, check your email and confirm the registration by clicking on the link in it.")])]):t._e()])])])},staticRenderFns:[]},L=a("VU/8")(O,z,!1,null,null,null).exports,K={validations:{formData:{password:{required:q.required},email:{required:q.required,email:q.email}}},data:function(){return{formData:{password:null,email:null},loading:!1,errMsg:null}},methods:{submit:function(){var t=this;this.$v.formData.$invalid||(this.loading=!0,this.$store.dispatch("login",this.formData).then(function(){t.$emit("success")}).catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1}))}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger text-center"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Email"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control",class:[{"is-invalid":(!t.$v.formData.email.required||!t.$v.formData.email.email)&&t.$v.formData.email.$dirty}],attrs:{type:"text"},domProps:{value:t.formData.email},on:{blur:function(e){t.$v.formData.email.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$v.formData.email.required?"Please, enter valid email":"Please, enter email"))])])]),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Password"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.password.required&&t.$v.formData.password.$dirty}],attrs:{type:"password"},domProps:{value:t.formData.password},on:{blur:function(e){t.$v.formData.password.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("Please, enter password.")])])]),t._v(" "),a("div",{staticClass:"text-center py-3"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.$v.formData.$invalid}},[t._v(t._s(t.$t("loginFormSubmit")))])]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},Y={components:{LoginForm:a("VU/8")(K,j,!1,null,null,null).exports},methods:{onLogin:function(){this.$router.push("/")}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 mx-auto pt-5"},[a("div",{staticClass:"card"},[a("h2",{staticClass:"card-header text-center"},[t._v(t._s(t.$t("loginPageTitle")))]),t._v(" "),a("div",{staticClass:"card-body"},[a("login-form",{on:{success:t.onLogin}})],1),t._v(" "),a("div",{staticClass:"card-footer text-center"},[a("router-link",{attrs:{to:"/register"}},[t._v(t._s(t.$t("Register")))]),t._v("   |   "),a("router-link",{attrs:{to:"/forgot"}},[t._v("Forgot password?")])],1)])])])])},staticRenderFns:[]},G=a("VU/8")(Y,B,!1,null,null,null).exports,H={validations:{formData:{email:{required:q.required,email:q.email}}},data:function(){return{formData:{email:null},errMsg:null,loading:!1}},methods:{submit:function(){var t=this;this.$v.formData.$invalid||(this.loading=!0,N(this.formData.email).then(function(){t.$emit("success")}).catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1}))}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"forgot-pass-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger text-center"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Email"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control",class:[{"is-invalid":(!t.$v.formData.email.required||!t.$v.formData.email.email)&&t.$v.formData.email.$dirty}],attrs:{type:"text"},domProps:{value:t.formData.email},on:{blur:function(e){t.$v.formData.email.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$v.formData.email.required?"Please, enter valid email":"Please, enter email"))])])]),t._v(" "),a("div",{staticClass:"text-center py-3"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.$v.formData.$invalid}},[t._v(t._s(t.$t("loginFormSubmit")))])]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},X={components:{ForgotPassForm:a("VU/8")(H,W,!1,null,null,null).exports},data:function(){return{isActionSuccessful:!1}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 mx-auto pt-5"},[t.isActionSuccessful?t._e():a("div",{staticClass:"card"},[a("h2",{staticClass:"card-header text-center"},[t._v(t._s(t.$t("forgotPageTitle")))]),t._v(" "),a("div",{staticClass:"card-body"},[a("forgot-pass-form",{on:{success:function(e){t.isActionSuccessful=!0}}})],1),t._v(" "),a("div",{staticClass:"card-footer text-center"},[a("router-link",{attrs:{to:"/login"}},[t._v(t._s(t.$t("Login")))]),t._v("   |   "),a("router-link",{attrs:{to:"/register"}},[t._v(t._s(t.$t("Register")))])],1)]),t._v(" "),t.isActionSuccessful?a("div",[a("p",[t._v("We have received your request for recovery and have sent a mail to your email address.")]),t._v(" "),a("p",[t._v("Please, check your email, click on the link and reset your password.")])]):t._e()])])])},staticRenderFns:[]},J=a("VU/8")(X,Q,!1,null,null,null).exports,Z={props:["token"],validations:{formData:{password:{required:q.required},repPassword:{required:q.required,sameAsPass:Object(q.sameAs)("password")}}},data:function(){return{formData:{password:null,repPassword:null},errMsg:null,loading:!1}},methods:{submit:function(){var t=this;this.$v.formData.$invalid||(this.loading=!0,I(this.token,this.formData.password).then(function(e){t.$emit("success")}).catch(function(e){console.log(e),t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1}))}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"reset-pass-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger text-center"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Password"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.password.required&&t.$v.formData.password.$dirty}],attrs:{type:"password"},domProps:{value:t.formData.password},on:{blur:function(e){t.$v.formData.password.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, enter the password")))])])]),t._v(" "),a("div",{staticClass:"form-group inline-form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Repeat Password"))+":")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.repPassword,expression:"formData.repPassword"}],staticClass:"form-control",class:[{"is-invalid":!t.$v.formData.repPassword.sameAsPass&&t.$v.formData.repPassword.$dirty}],attrs:{type:"password"},domProps:{value:t.formData.repPassword},on:{blur:function(e){t.$v.formData.repPassword.$touch()},input:function(e){e.target.composing||t.$set(t.formData,"repPassword",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("\n        "+t._s(t.$v.formData.repPassword.sameAsPass?t.$t("Repeated password is not the same"):t.$t("Please, repeat the password"))+"\n      ")])])]),t._v(" "),a("div",{staticClass:"text-center py-3"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.$v.formData.$invalid}},[t._v(t._s(t.$t("resetFormSubmit")))])]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},et={components:{ResetPassForm:a("VU/8")(Z,tt,!1,null,null,null).exports},props:["token"],data:function(){return{isActionSuccessful:!1}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 mx-auto pt-5"},[t.isActionSuccessful?t._e():a("div",{staticClass:"card"},[a("h2",{staticClass:"card-header text-center"},[t._v(t._s(t.$t("resetPageTitle")))]),t._v(" "),a("div",{staticClass:"card-body"},[a("reset-pass-form",{attrs:{token:t.token},on:{success:function(e){t.isActionSuccessful=!0}}})],1),t._v(" "),a("div",{staticClass:"card-footer text-center"})]),t._v(" "),t.isActionSuccessful?a("div",{staticClass:"text-center"},[a("p",[t._v(t._s(t.$t("Password reset was successfull"))+".")]),t._v(" "),a("b-button",{attrs:{size:"lg",variant:"success",to:"/login"}},[t._v(t._s(t.$t("Login")))])],1):t._e()])])])},staticRenderFns:[]},nt=[{path:"/register",name:"Register",component:L,meta:{pageId:"register-page",pageClass:""},beforeEnter:F},{path:"/login",name:"Login",component:G,meta:{pageId:"login-page",pageClass:""},beforeEnter:F},{path:"/forgot",name:"Forgot",component:J,meta:{pageId:"forgot-page",pageClass:""},beforeEnter:F},{path:"/reset/:token",name:"Reset",component:a("VU/8")(et,at,!1,null,null,null).exports,props:!0,meta:{pageId:"reset-page",pageClass:""},beforeEnter:F}],rt=a("XILU"),ot={DAILY:{id:1,label:"Daily"},AVERAGE:{id:2,label:"Avarage"}},st=[{id:1,label:"Balance Sheet",code:"BS",context:{IN:"Receivables",OUT:"Payables",FX_TYPES:[ot.DAILY]}},{id:2,label:"Cash Flow Statement",code:"CFS",context:{IN:"Cash Receipts",OUT:"Cash Paid",FX_TYPES:[ot.DAILY,ot.AVERAGE]}},{id:3,label:"Income Statement",code:"IS",context:{IN:"Income",OUT:"Expense",FX_TYPES:[ot.DAILY,ot.AVERAGE]}}],it={misc:0,tax:1,software:2,responsibility:3},lt=[{id:1,label:"SuperUser"},{id:2,label:"Master"},{id:3,label:"User"},{id:4,label:"Guest"}],ct={components:{Datepicker:a.n(rt).a},data:function(){return{formData:{},statementTypes:st,isFileValid:null,errMsg:null,loading:!1}},methods:{onFileChange:function(t){this.$validator.validate("file").then(function(t){})},submit:function(){var t=this,e=this.formData;!(e.statementType&&e.toDate&&e.file)||e.statementType.id>1&&!e.fromDate?this.errMsg="Please, fill the required fields.":(this.loading=!0,this.errMsg=null,this.$store.dispatch("uploadExcel",this.formData).then(function(){t.$emit("success")}).catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1}))}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"upload-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger text-center"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"statementType"}},[t._v("Statement type:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.errors.has("statementType")},attrs:{id:"statementType",name:"statementType",plain:!0,options:t.statementTypes},model:{value:t.formData.statementType,callback:function(e){t.$set(t.formData,"statementType",e)},expression:"formData.statementType"}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, select a statement type"))+".")])],1),t._v(" "),!t.formData.statementType||t.formData.statementType.id>1?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"from"}},[t._v("From date:")]),t._v(" "),a("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.errors.has("from")},attrs:{"bootstrap-styling":!0,id:"from",name:"from",language:"en","calendar-button":!0,"calendar-button-icon":"fa fa-calendar",required:!0},model:{value:t.formData.fromDate,callback:function(e){t.$set(t.formData,"fromDate",e)},expression:"formData.fromDate"}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, select a date"))+".")])],1):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"to"}},[t._v("To date:")]),t._v(" "),a("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.errors.has("to")},attrs:{"bootstrap-styling":!0,id:"to",name:"to",language:"en","calendar-button":!0,"calendar-button-icon":"fa fa-calendar",required:!0},model:{value:t.formData.toDate,callback:function(e){t.$set(t.formData,"toDate",e)},expression:"formData.toDate"}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, select a date"))+".")])],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"file"}},[t._v("Excel file:")]),t._v(" "),a("b-form-file",{directives:[{name:"validate",rawName:"v-validate",value:"required|ext:xls,xlsx",expression:"'required|ext:xls,xlsx'"}],attrs:{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:"file",state:t.isFileValid,placeholder:"Choose a file..."},on:{change:function(e){t.onFileChange(e)}},model:{value:t.formData.file,callback:function(e){t.$set(t.formData,"file",e)},expression:"formData.file"}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, select an Excel file"))+".")]),t._v(" "),a("small",{staticClass:"form-text text-muted"},[t._v("The complete registered name.")])],1),t._v(" "),t._m(0),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-3"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Upload")])])}]},ut=a("VU/8")(ct,dt,!1,null,null,null).exports,mt={data:function(){return{toggle:!1,loading:!1}},methods:{open:function(){this.toggle=!0,document.body.classList.add("fpm-open-body")},close:function(){this.toggle=!1,document.body.classList.remove("fpm-open-body"),this.$emit("close")}}},vt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"full-page-modal",class:{"fpm-open":this.toggle}},[e("b-navbar",{attrs:{type:"light",variant:"light",id:"fpm-head"}},[this._t("head"),this._v(" "),e("b-navbar-nav",{staticClass:"ml-auto"},[e("b-nav-item",{attrs:{title:"Close"},on:{click:this.close}},[this._v("Close")])],1)],2),this._v(" "),e("div",{staticClass:"fpm-body"},[this._t("default")],2)],1)},staticRenderFns:[]},pt=a("VU/8")(mt,vt,!1,null,null,null).exports,ft={props:["value"],components:{FullPageModal:pt},data:function(){return{contractorName:null,loading:!1}},computed:{records:function(){return this.$store.getters.unrecognizedCompanyRecords(this.value)},statementType:function(){return this.$store.getters.statementType},dates:function(){var t=this.$store.getters.importReceipt,e=u.formatDate(t.toDate);return t.fromDate&&(e=u.formatDate(t.fromDate)+" - "+e),e},myCompany:function(){return this.$store.getters.selectedCompany}},watch:{value:function(t){var e=this;t&&(this.contractorName=t.company.name,this.$refs.modal.open(),this.loading=!0,this.$store.dispatch("loadUnrecognizedCompanyRecords",t).finally(function(){e.loading=!1}))}},methods:{close:function(){this.$emit("input",null)}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("full-page-modal",{ref:"modal",on:{close:t.close}},[a("template",{slot:"head"},[t._v("\n    "+t._s(t.myCompany.name)+" - "+t._s(t.contractorName)+",\n    "+t._s(t.statementType.label)+",\n    "+t._s(t.dates)+"\n  ")]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered table-sm"},[a("thead",[a("tr",[a("th",[t._v("Line")]),t._v(" "),a("th",[t._v("Acc. Type")]),t._v(" "),a("th",[t._v("Ref #")]),t._v(" "),a("th",[t._v("Payer")]),t._v(" "),a("th",[t._v("Receiver")]),t._v(" "),a("th",[t._v("Doc. Date")]),t._v(" "),a("th",[t._v("Due Date")]),t._v(" "),a("th",[t._v("Posting Date")]),t._v(" "),a("th",[t._v("Doc. Currency")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",t._l(t.records,function(e){return a("tr",{key:e.line},[a("td",[t._v(t._s(e.line))]),t._v(" "),a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.ref))]),t._v(" "),a("td",[t._v(t._s(e.payer))]),t._v(" "),a("td",[t._v(t._s(e.receiver))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.docDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.dueDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.postingDate)))]),t._v(" "),a("td",[t._v(t._s(e.docCurrency))]),t._v(" "),a("td",[t._v(t._s(e.docAmount))]),t._v(" "),a("td",[t._v(t._s(e.desc))])])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)],2)},staticRenderFns:[]},ht={components:{rcRecordsModal:a("VU/8")(ft,_t,!1,null,null,null).exports},data:function(){return{selectedSet:null,loading:!1}},computed:{sets:function(){return this.$store.getters.recognizedCompaniesSets},context:function(){return this.$store.getters.statementTypeContext}},methods:{show:function(t){this.selectedSet=t},remove:function(){}}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}}),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.context.IN))]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.context.OUT))]),t._v(" "),a("th",{attrs:{colspan:"2"}})]),t._v(" "),t._m(0)]),t._v(" "),a("tbody",t._l(t.sets,function(e){return a("tr",{key:e.company.name+e.currency.code},[a("td",[t._v(t._s(e.company.name))]),t._v(" "),a("td",[t._v(t._s(e.currency.code))]),t._v(" "),a("td",[t._v(t._s(e.receivables.amount))]),t._v(" "),a("td",[t._v(t._s(e.receivables.count))]),t._v(" "),a("td",[t._v(t._s(e.payables.amount))]),t._v(" "),a("td",[t._v(t._s(e.payables.count))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-default btn-sm",attrs:{title:"View details"},on:{click:function(a){t.show(e)}}},[t._v("View Details")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{title:"Remove the valid tranzactions"},on:{click:function(a){t.remove(e)}}},[t._v("Remove")])])])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Company")]),t._v(" "),a("th",[t._v("Doc. Currency")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Records")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Records")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("Actions")])])}]},yt=a("VU/8")(ht,gt,!1,null,null,null).exports,bt={props:["contractor"],computed:{statementType:function(){return this.$store.getters.statementType},dates:function(){var t=this.$store.getters.importReceipt,e=u.formatDate(t.toDate);return t.fromDate&&(e=u.formatDate(t.fromDate)+" - "+e),e},companiesStr:function(){var t=this.$store.getters.selectedCompany.name;return this.contractor&&(t=t+" - "+this.contractor),t}}},Ct={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  "+this._s(this.companiesStr)+",\n  "+this._s(this.statementType.label)+",\n  "+this._s(this.dates)+"\n")])},staticRenderFns:[]},Dt={props:["value"],components:{FullPageModal:pt,ModalHead:a("VU/8")(bt,Ct,!1,null,null,null).exports},data:function(){return{contractorName:"",loading:!1}},watch:{value:function(t){var e=this;t&&(this.$refs.modal.open(),this.loading=!0,this.load(t).finally(function(){e.loading=!1}))}},methods:{close:function(){this.$emit("input",null)}}},xt={mixins:[Dt],computed:{records:function(){return this.$store.getters.unrecognizedCompanyRecords(this.value)}},methods:{load:function(t){return this.contractorName=t.company.name,this.$store.dispatch("loadUnrecognizedCompanyRecords",t)}}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("full-page-modal",{ref:"modal",on:{close:t.close}},[a("modal-head",{attrs:{slot:"head",contractor:t.contractorName},slot:"head"}),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered table-sm"},[a("thead",[a("tr",[a("th",[t._v("Line")]),t._v(" "),a("th",[t._v("Acc. Type")]),t._v(" "),a("th",[t._v("Ref #")]),t._v(" "),a("th",[t._v("Payer")]),t._v(" "),a("th",[t._v("Receiver")]),t._v(" "),a("th",[t._v("Doc. Date")]),t._v(" "),a("th",[t._v("Due Date")]),t._v(" "),a("th",[t._v("Posting Date")]),t._v(" "),a("th",[t._v("Doc. Currency")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",t._l(t.records,function(e){return a("tr",{key:e.line},[a("td",{staticClass:"line-cell"},[t._v(t._s(e.line))]),t._v(" "),a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.ref))]),t._v(" "),a("td",[t._v(t._s(e.payer))]),t._v(" "),a("td",[t._v(t._s(e.receiver))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.docDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.dueDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.postingDate)))]),t._v(" "),a("td",[t._v(t._s(e.docCurrency))]),t._v(" "),a("td",[t._v(t._s(e.docAmount))]),t._v(" "),a("td",[t._v(t._s(e.desc))])])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)],1)},staticRenderFns:[]},wt={components:{ucRecordsModal:a("VU/8")(xt,$t,!1,null,null,null).exports},data:function(){return{selectedSet:null}},computed:{sets:function(){return this.$store.getters.unrecognizedCompaniesSets},context:function(){return this.$store.getters.statementTypeContext}},methods:{recognize:function(t){},addContact:function(t){},show:function(t){this.selectedSet=t}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered"},[a("thead",[a("tr",[a("th"),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.context.IN))]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.context.OUT))]),t._v(" "),a("th",{attrs:{colspan:"3"}})]),t._v(" "),t._m(0)]),t._v(" "),a("tbody",t._l(t.sets,function(e){return a("tr",{key:e.company.name},[a("td",[t._v(t._s(e.company.name))]),t._v(" "),a("td",[t._v(t._s(e.receivables.amount))]),t._v(" "),a("td",[t._v(t._s(e.receivables.count))]),t._v(" "),a("td",[t._v(t._s(e.payables.amount))]),t._v(" "),a("td",[t._v(t._s(e.payables.count))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-info btn-sm",attrs:{title:"View details"},on:{click:function(a){t.recognize(e)}}},[t._v("Recognize as")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-info btn-sm",attrs:{title:"Add new contact"},on:{click:function(a){t.addContact(e)}}},[t._v("Add new contact")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-info btn-sm",attrs:{title:"View details"},on:{click:function(a){t.show(e)}}},[t._v("View Details")])])])}))]),t._v(" "),a("uc-records-modal",{model:{value:t.selectedSet,callback:function(e){t.selectedSet=e},expression:"selectedSet"}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Company")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Records")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Records")]),t._v(" "),a("th",{attrs:{colspan:"3"}},[t._v("Actions")])])}]},Pt=a("VU/8")(wt,St,!1,null,null,null).exports,Mt=a("fZjL"),Rt=a.n(Mt),Nt={mixins:[Dt],data:function(){return{loading:!1}},computed:{records:function(){return this.$store.getters.invalidRecords}},methods:{load:function(){return this.$store.dispatch("loadInvalidRecords")}}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("full-page-modal",{ref:"modal",staticClass:"invalid-records-modal",on:{close:t.close}},[a("modal-head",{attrs:{slot:"head",contractor:t.contractorName},slot:"head"}),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered table-sm"},[a("thead",[a("tr",[a("th",[t._v("Line")]),t._v(" "),a("th",[t._v("Errors")]),t._v(" "),a("th",[t._v("Acc. Type")]),t._v(" "),a("th",[t._v("Ref #")]),t._v(" "),a("th",[t._v("Payer")]),t._v(" "),a("th",[t._v("Receiver")]),t._v(" "),a("th",[t._v("Doc. Date")]),t._v(" "),a("th",[t._v("Due Date")]),t._v(" "),a("th",[t._v("Posting Date")]),t._v(" "),a("th",[t._v("Doc. Currency")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",t._l(t.records,function(e){return a("tr",{key:e.line},[a("td",{staticClass:"line-cell"},[t._v(t._s(e.line))]),t._v(" "),a("td",{staticClass:"error-cell"},[a("ul",t._l(e.errors,function(e){return a("li",[a("strong",[t._v(t._s(e.type.label)+":")]),t._v(" "+t._s(e.desc)+"\n              ")])}))]),t._v(" "),a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.ref))]),t._v(" "),a("td",[t._v(t._s(e.payer))]),t._v(" "),a("td",[t._v(t._s(e.receiver))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.docDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.dueDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.postingDate)))]),t._v(" "),a("td",[t._v(t._s(e.docCurrency))]),t._v(" "),a("td",[t._v(t._s(e.docAmount))]),t._v(" "),a("td",[t._v(t._s(e.desc))])])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)],1)},staticRenderFns:[]},Tt={mixins:[Dt],data:function(){return{loading:!1}},computed:{records:function(){return this.$store.getters.outOfScopeRecords}},methods:{load:function(){return this.$store.dispatch("loadOutOfScopeRecords")}}},kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("full-page-modal",{ref:"modal",on:{close:t.close}},[a("modal-head",{attrs:{slot:"head",contractor:t.contractorName},slot:"head"}),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered table-sm"},[a("thead",[a("tr",[a("th",[t._v("Line")]),t._v(" "),a("th",[t._v("Acc. Type")]),t._v(" "),a("th",[t._v("Ref #")]),t._v(" "),a("th",[t._v("Payer")]),t._v(" "),a("th",[t._v("Receiver")]),t._v(" "),a("th",[t._v("Doc. Date")]),t._v(" "),a("th",[t._v("Due Date")]),t._v(" "),a("th",[t._v("Posting Date")]),t._v(" "),a("th",[t._v("Doc. Currency")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",t._l(t.records,function(e){return a("tr",{key:e.line},[a("td",{staticClass:"line-cell"},[t._v(t._s(e.line))]),t._v(" "),a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.ref))]),t._v(" "),a("td",[t._v(t._s(e.payer))]),t._v(" "),a("td",[t._v(t._s(e.receiver))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.docDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.dueDate)))]),t._v(" "),a("td",[t._v(t._s(t._f("bsDate")(e.postingDate)))]),t._v(" "),a("td",[t._v(t._s(e.docCurrency))]),t._v(" "),a("td",[t._v(t._s(e.docAmount))]),t._v(" "),a("td",[t._v(t._s(e.desc))])])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)],1)},staticRenderFns:[]},At={components:{invalidRecordsModal:a("VU/8")(Nt,It,!1,null,null,null).exports,outofscopeRecordsModal:a("VU/8")(Tt,kt,!1,null,null,null).exports},data:function(){return{showInvalidDetails:!1,showOutOfPeriodDetails:!1}},computed:{recordsCount:function(){return this.$store.getters.recordsCount},total:function(){var t=this;return Rt()(this.recordsCount).reduce(function(e,a){return e+t.recordsCount[a]},0)}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive upload-summary"},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",[a("tr",[a("th",[t._v("Valid with recognized companies:")]),t._v(" "),a("td",[t._v(t._s(t.recordsCount.validRecognizedCompany))]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("th",[t._v("Valid with unrecognized companies:")]),t._v(" "),a("td",[t._v(t._s(t.recordsCount.validUnrecognizedCompany))]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("th",[t._v("Invalid:")]),t._v(" "),a("td",[t._v(t._s(t.recordsCount.invalid))]),t._v(" "),a("td",[t.recordsCount.invalid?a("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:function(e){t.showInvalidDetails=!0}}},[t._v("View Details")]):t._e()])]),t._v(" "),a("tr",[a("th",[t._v("Out of Period:")]),t._v(" "),a("td",[t._v(t._s(t.recordsCount.outOfScope))]),t._v(" "),a("td",[t.recordsCount.outOfScope?a("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:function(e){t.showOutOfPeriodDetails=!0}}},[t._v("View Details")]):t._e()])]),t._v(" "),a("tr",[a("th",[t._v("Removed:")]),t._v(" "),a("td",[t._v(t._s(t.recordsCount.removed))]),t._v(" "),a("td")])]),t._v(" "),a("tfoot",[a("tr",[a("th",[t._v("TOTAL:")]),t._v(" "),a("td",[t._v(t._s(t.total))]),t._v(" "),a("td")])])]),t._v(" "),a("invalid-records-modal",{model:{value:t.showInvalidDetails,callback:function(e){t.showInvalidDetails=e},expression:"showInvalidDetails"}}),t._v(" "),a("outofscope-records-modal",{model:{value:t.showOutOfPeriodDetails,callback:function(e){t.showOutOfPeriodDetails=e},expression:"showOutOfPeriodDetails"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Transactions Type")]),this._v(" "),e("th",[this._v("Number")]),this._v(" "),e("th")])])}]},Et={name:"UploadPage",components:{UploadForm:ut,RcTable:yt,UcTable:Pt,SummaryTable:a("VU/8")(At,Ft,!1,null,null,null).exports},data:function(){return{loading:!1}},computed:{summary:function(){return this.$store.getters.importSummary}},methods:{onUpload:function(){var t=this;this.loading=!0,this.$store.dispatch("loadSummary").then(function(){t.loading=!1})},cancel:function(){this.$store.commit("clearImport")}}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-page"},[a("h2",[t._v("Upload")]),t._v(" "),t.summary?t._e():a("upload-form",{on:{success:t.onUpload}}),t._v(" "),t.summary&&t.summary.recordsCount.validRecognizedCompany?a("div",[a("h3",[t._v("Pending valid transactions with recognized companies")]),t._v(" "),a("p",[t._v("You can save these transactions..")]),t._v(" "),a("rc-table"),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Save")])],1):t._e(),t._v(" "),t.summary&&t.summary.recordsCount.validUnrecognizedCompany?a("div",[a("h3",[t._v("Valid transactions with unrecognized companies")]),t._v(" "),a("p",[t._v("You can link unrecognized name to a company from your contacts and this name will ba saved as a company alias. Then the company will appear in the table with pending valid transactions from recognized companies.")]),t._v(" "),a("uc-table")],1):t._e(),t._v(" "),t.summary?a("div",[a("h3",[t._v("Summary")]),t._v(" "),a("summary-table"),t._v(" "),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.cancel}},[t._v("Cancel")])],1):t._e(),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},Ut=a("VU/8")(Et,qt,!1,null,null,null).exports,Vt={methods:{runAfterSCisSet:function(t){this.$store.getters.selectedCompany?t():this.$store.watch(function(t,e){return e.selectedCompany},function(e){e&&t()})}}},Ot=a("woOf"),zt=a.n(Ot);r.a.use(y.a);var Lt="__selected__",Kt={items:[],filteredItems:[],sorter:{id:null,comparator:null,onKeyChangeCallback:function(){}},filters:{},page:1};function jt(t){var e=Rt()(t.filters).reduce(function(e,a){return e.filter(function(e){return t.filters[a](e)})},t.items.slice(0));t.page=1,t.filteredItems=t.sorter.comparator?e.sort(t.sorter.comparator):e}function Yt(t){return t[Lt]||!1}var Bt=zt()({},Kt),Gt={pageItems:function(t){return function(e){if(e){var a=(t.page-1)*e,n=t.page*e;return t.filteredItems.slice(a,n)}return t.filteredItems}},totalPages:function(t){return function(e){return Math.ceil(t.filteredItems.length/e)}},selectedItems:function(t){return t.items.filter(Yt)},isItemSelected:function(t){return Yt},page:function(t){return t.page}},Ht={setItems:function(t,e){t.items!==e&&(t.items=e,t.filteredItems=t.items,t.sorter=Kt.sorter,t.filters=Kt.filters,t.page=Kt.page)},addFilter:function(t,e){t.filters[e.key]=e.comparator,jt(t)},removeFilter:function(t,e){t.filters[e]&&(delete t.filters[e],jt(t))},removeAllFilters:function(t){Rt()(t.filters).length>0&&(t.filters={},jt(t))},setSorter:function(t,e){var a=t.sorter;a.id!==e.sortId&&(a.onKeyChangeCallback(e.sortId),a.id=e.sortId,a.comparator=e.comparator,a.onKeyChangeCallback=e.onKeyChangeCallback,t.filteredItems.sort(a.comparator))},toggleItemSelection:function(t,e){r.a.set(e,Lt,!e[Lt])},setItemsSelection:function(t,e){e.items.forEach(function(t){r.a.set(t,Lt,e.areSelected)})},setPage:function(t,e){t.page=e}};function Wt(t,e,a){return a[e]||(a[e]=Function("obj","return obj."+e)),a[e](t)}var Xt={strings:function(t,e,a){var n=t.toUpperCase().trim(),r=e.toUpperCase().trim();return n<r?-1*a:n>r?1*a:0},numbers:function(t,e,a){return a*(t-e)},dates:function(t,e,a){return a*((t?t.getTime():0)-(e?e.getTime():0))},bool:function(t,e,a){return a*((t?1:0)-(e?1:0))}},Qt=function(t,e,a){var n={};return function(r,o){return Xt[t](Wt(r,e,n),Wt(o,e,n),a)}},Jt="sort-asc",Zt="sort-desc",te={tableStore:new y.a.Store({state:Bt,getters:Gt,mutations:Ht}),SortDirective:function(t){return{bind:function(e,a,n){var r=a.value,o=r.sortKey,s=r.compare,i=r.initOrder,l=null;function c(){null===l||-1===l?(l=1,e.classList.add(Jt),e.classList.remove(Zt)):(l=-1,e.classList.add(Zt),e.classList.remove(Jt));var a={sortId:o+l,comparator:Qt(s,o,l),onKeyChangeCallback:d};t.commit("setSorter",a)}function d(t){t.startsWith(o)||(e.classList.remove(Zt),e.classList.remove(Jt),l=null)}e.classList.add("sort"),e.addEventListener("click",c),i&&(l="DESC"===i?1:-1,c())}}}},ee={name:"ContactsTable",directives:{Sort:te.SortDirective(te.tableStore)},data:function(){return{loading:!1}},computed:{pageItems:function(){return te.tableStore.commit("setItems",this.$store.getters.contacts),te.tableStore.getters.pageItems()}}},ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive collaborators-table"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"name",compare:"strings",initOrder:"ASC"},expression:"{sortKey: 'name', compare: 'strings', initOrder: 'ASC'}"}]},[t._v("Name")]),t._v(" "),a("th",[t._v("Aliases")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"regNum",compare:"strings"},expression:"{sortKey: 'regNum', compare: 'strings'}"}]},[t._v("Reg Number")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.pageItems,function(e){return a("tr",{key:e.id},[a("th",[a("company-card",{attrs:{company:e,size:"m"}})],1),t._v(" "),a("td",[t._v(t._s(e.aliases.map(function(t){return t.aname}).join(", ")))]),t._v(" "),a("td",[t._v(t._s(e.regNum))]),t._v(" "),t._m(0,!0)])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[this._v("...")]),this._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[this._v("Upload")]),this._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[this._v("Start Reconciliation")])])])])}]},ne=a("VU/8")(ee,ae,!1,null,null,null).exports,re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["logo","logo-"+t.size],style:t.logoStyle},[t.company.logo.URL?t._e():a("div",{staticClass:"logo-initials"},[t._v(t._s(t.company.logo.initials))]),t._v(" "),a("div",{style:t.flagStyle})])},staticRenderFns:[]},oe={components:{LogoFlag:a("VU/8")({props:{company:{required:!0},size:{required:!0}},computed:{logoStyle:function(){return this.company.logo.URL?{"background-image":"url("+this.company.logo.URL+")"}:{}},flagStyle:function(){return{"background-image":"url(/static/flags/"+this.company.country.code+".svg)"}}}},re,!1,null,null,null).exports},props:{company:{required:!0},size:{required:!0}}},se={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["company-card","company-card-"+this.size]},[e("logo-flag",{attrs:{company:this.company,size:this.size}}),this._v(" "),e("div",{staticClass:"company-card-name"},[this._v(this._s(this.company.name))])],1)},staticRenderFns:[]},ie=a("VU/8")(oe,se,!1,null,null,null).exports,le={components:{CompanyCard:ie},directives:{Sort:te.SortDirective(te.tableStore)},data:function(){return{loading:!1}},computed:{pageItems:function(){return te.tableStore.commit("setItems",this.$store.getters.companySentInvitations),te.tableStore.getters.pageItems()}},methods:{cancel:function(t){var e=this;this.loading=!0,this.$store.dispatch("cancelInvitation",t).finally(function(){e.loading=!1})}}},ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive collaborators-table"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"receiver.name",compare:"strings",initOrder:"ASC"},expression:"{sortKey: 'receiver.name', compare: 'strings', initOrder: 'ASC'}"}]},[t._v("Name")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"receiver.country.name",compare:"strings"},expression:"{sortKey: 'receiver.country.name', compare: 'strings'}"}]},[t._v("Country")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"receiver.regNum",compare:"strings"},expression:"{sortKey: 'receiver.regNum', compare: 'strings'}"}]},[t._v("Reg Number")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"receiver.email",compare:"strings"},expression:"{sortKey: 'receiver.email', compare: 'strings'}"}]},[t._v("Receiver Email")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"sender.user.name",compare:"strings"},expression:"{sortKey: 'sender.user.name', compare: 'strings'}"}]},[t._v("Sender")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.pageItems,function(e){return a("tr",{key:e.id},[a("th",[a("company-card",{attrs:{company:e.receiver,size:"m"}})],1),t._v(" "),a("td",[a("img",{attrs:{src:"/static/flags/"+e.receiver.country.code+".svg"}}),t._v("\n          "+t._s(e.receiver.country.name)+"\n        ")]),t._v(" "),a("td",[t._v(t._s(e.receiver.regNum))]),t._v(" "),a("td",[t._v(t._s(e.receiver.email))]),t._v(" "),a("td",[a("div",[t._v(t._s(e.sender.user.name))]),t._v(" "),a("div",[t._v(t._s(e.sender.user.email))])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){t.cancel(e)}}},[t._v("Cancel")])])])}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},de=a("VU/8")(le,ce,!1,null,null,null).exports,ue=a("//Fk"),me=a.n(ue),ve={mixins:[{methods:{runAfterNomenclatureIsSet:function(t,e){if(this.$store.getters[t])e();else var a=this.$store.watch(function(e,a){return a[t]},function(t){t&&(e(),a())})}}}],created:function(){this.$store.dispatch("loadCountries")},mounted:function(){var t=this;this.loading=!0,this.runAfterNomenclatureIsSet("countries",function(){t.loading=!1})},data:function(){return{formData:{},errMsg:null,loading:!1}},computed:{countries:function(){return this.$store.getters.countries}},methods:{validate:function(){return this.$validator.validateAll()},save:function(){var t=this;return this.$store.dispatch("inviteContact",this.formData).then(function(e){t.$emit("success",e)})},submit:function(){var t=this;this.errMsg=null,this.loading=!0,this.validate().then(function(e){return e?t.save():me.a.reject(new Error("Please, fill the required fields."))}).catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1})}}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cf-name"}},[t._v("Company Name:")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("name")}],attrs:{type:"text",id:"cf-name",name:"name"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, enter a valid name"))+".")]),t._v(" "),a("small",{staticClass:"form-text text-muted"},[t._v("The complete registered name.")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cf-country"}},[t._v("Country:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("country")}],attrs:{id:"cf-country",name:"country",plain:!0,options:t.countries,"text-field":"name"},model:{value:t.formData.country,callback:function(e){t.$set(t.formData,"country",e)},expression:"formData.country"}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, select a country"))+".")])],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cf-regNum"}},[t._v("Registration number:")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.formData.regNum,expression:"formData.regNum"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("regNum")}],attrs:{type:"text",id:"cf-regNum",name:"regNum"},domProps:{value:t.formData.regNum},on:{input:function(e){e.target.composing||t.$set(t.formData,"regNum",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, enter company's registration number"))+".")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cf-email"}},[t._v("Contact Person Email:")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("email")}],attrs:{type:"text",id:"cf-email",name:"email"},domProps:{value:t.formData.email},on:{input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, enter a valid email"))+".")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cf-email"}},[t._v("Message:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.message,expression:"formData.message"}],staticClass:"form-control",attrs:{name:"message",rows:"5"},domProps:{value:t.formData.message},on:{input:function(e){e.target.composing||t.$set(t.formData,"message",e.target.value)}}})]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},fe={name:"ContactsPage",components:{ContactsTable:ne,InvitationsTable:de,InvitationForm:a("VU/8")(ve,pe,!1,null,null,null).exports},mixins:[Vt],created:function(){this.runAfterSCisSet(this.loadContacts)},data:function(){return{showInvModal:!1,loading:!1}},computed:{hasContacts:function(){return!!this.$store.getters.contacts.length},hasInvitations:function(){return!!this.$store.getters.companySentInvitations.length}},methods:{onModalOk:function(t){t.preventDefault(),this.$refs.invitationForm.submit()},onSentInvitation:function(t){this.showInvModal=!1},onTabChange:function(t){1===t&&this.loadInvitations()},loadContacts:function(){this.loadStore("loadSCContacts")},loadInvitations:function(){this.loadStore("loadSCSentInvitations")},loadStore:function(t){var e=this;this.loading=!0,this.$store.dispatch(t).finally(function(){e.loading=!1})}}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact-page"},[a("h2",[t._v("Contacts")]),t._v(" "),a("b-btn",{staticClass:"btn btn-success btn-sm mb-3",on:{click:function(e){t.showInvModal=!0}}},[t._v("Invite Company")]),t._v(" "),a("b-modal",{attrs:{title:"Company Invitation"},on:{ok:t.onModalOk},model:{value:t.showInvModal,callback:function(e){t.showInvModal=e},expression:"showInvModal"}},[a("invitation-form",{ref:"invitationForm",on:{success:t.onSentInvitation}})],1),t._v(" "),a("b-tabs",{on:{input:t.onTabChange}},[a("b-tab",{attrs:{title:"Contacts",active:""}},[t.hasContacts?a("contacts-table"):t._e(),t._v(" "),t.hasContacts||t.loading?t._e():a("div",[t._v("There aren't any contacts added yet.")])],1),t._v(" "),a("b-tab",{attrs:{title:"Sent Invitations"}},[t.hasInvitations?a("invitations-table"):t._e(),t._v(" "),t.hasInvitations||t.loading?t._e():a("div",[t._v("There aren't any invitations.")])],1)],1),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},he=a("VU/8")(fe,_e,!1,null,null,null).exports,ge=a("mB6w"),ye=a.n(ge),be={props:{save:{required:!0,type:Function},remove:{type:Function},cancel:{required:!0,type:Function},validate:{required:!0,type:Function},editMode:{default:!1}},data:function(){return{isEditMode:this.editMode,errMsg:null,loading:!1}},methods:{submit:function(){var t=this;this.errMsg=null,this.loading=!0,this.validate().then(function(e){return e?t.save():me.a.reject(new Error("Please, fill the required fields."))}).then(function(){t.cancelEdit()}).catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1})},cancelEdit:function(){this.cancel(),this.isEditMode=!1,this.errMsg=null},edit:function(){this.isEditMode=!0},del:function(){var t=this;this.loading=!0,this.remove().catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1})}},watch:{isEditMode:function(t){this.$emit("edit",t)}}},Ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"company-property-row",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"cp-col"},[t.errMsg?a("div",{staticClass:"alert alert-danger"},[t._v("\n      "+t._s(t.errMsg)+"\n    ")]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.isEditMode?t._e():a("div",{staticClass:"cp-actions-col"},[a("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:t.edit}},[t._v("Edit")]),t._v(" "),t.remove?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:t.del}},[t._v("Delete")]):t._e()]),t._v(" "),t.isEditMode?a("div",{staticClass:"cp-actions-col"},[a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:t.cancelEdit}},[t._v("Cancel")])]):t._e(),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},De={components:{CpForm:a("VU/8")(be,Ce,!1,null,null,null).exports},props:{cProp:{required:!0,default:function(){return{}}}},methods:{onEdit:function(t){this.editMode=t},validate:function(){return this.$validator.validateAll()},cancel:function(){this.cpModel=zt()({},this.cProp),this.$emit("cancel")}}},xe={props:{cProp:{required:!1}},data:function(){return{cpModel:zt()({},this.cProp),roles:lt,editMode:!0}},methods:{save:function(){var t=this;return this.$store.dispatch("addSCCollaborator",this.cpModel).then(function(){t.$emit("cancel")})}}},$e=ye()({},De,xe),we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{staticClass:"collaborator-form",attrs:{save:t.save,cancel:t.cancel,validate:t.validate,"edit-mode":t.editMode},on:{edit:t.onEdit}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col"},[a("label",[t._v("Collaborator's Email:")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.cpModel.email,expression:"cpModel.email"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("email")}],attrs:{type:"text",name:"email"},domProps:{value:t.cpModel.email},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, enter a valid email"))+".")])]),t._v(" "),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"role"}},[t._v("Role:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("role")}],attrs:{name:"role",plain:!0,options:t.roles},model:{value:t.cpModel.role,callback:function(e){t.$set(t.cpModel,"role",e)},expression:"cpModel.role"}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.$t("Please, select a role"))+".")])],1)])])},staticRenderFns:[]},Se=a("VU/8")($e,we,!1,null,null,null).exports,Pe={name:"CollaboratorsTableRow",props:{collaborator:{required:!0}},data:function(){return{model:zt()({},this.collaborator),roles:lt,editMode:!1,loading:!1}},methods:{save:function(){return this.$store.dispatch("updateCollaborator",this.model).then(function(){})},edit:function(){this.editMode=!0},cancel:function(){this.editMode=!1},remove:function(){}}},Me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[t.loading?t._e():[a("td",[t._v(t._s(t.model.name))]),t._v(" "),a("td",[t._v(t._s(t.model.email))]),t._v(" "),a("td",[a("c-form-select",{staticClass:"form-control",attrs:{plain:!0,options:t.roles,disabled:!t.editMode},model:{value:t.model.role,callback:function(e){t.$set(t.model,"role",e)},expression:"model.role"}})],1),t._v(" "),a("td",[t._v(t._s(t.model.isPending?"pending":""))]),t._v(" "),a("td",{staticClass:"actions-col"},[t.editMode?t._e():a("div",[a("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:t.edit}},[t._v("Edit")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:t.remove}},[t._v("Remove")])]),t._v(" "),t.editMode?a("div",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.save}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:t.cancel}},[t._v("Cancel")])]):t._e()])],t._v(" "),t.loading?a("td",{attrs:{colspan:"4"}},[a("loading",{attrs:{loading:t.loading}})],1):t._e()],2)},staticRenderFns:[]},Re={name:"CollaboratorsTable",components:{Row:a("VU/8")(Pe,Me,!1,null,null,null).exports},directives:{Sort:te.SortDirective(te.tableStore)},data:function(){return{loading:!1}},computed:{pageItems:function(){return te.tableStore.commit("setItems",this.$store.getters.collaborators),te.tableStore.getters.pageItems()}}},Ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive collaborators-table"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"name",compare:"strings"},expression:"{sortKey: 'name', compare: 'strings'}"}]},[t._v("Name")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"email",compare:"strings"},expression:"{sortKey: 'email', compare: 'strings'}"}]},[t._v("Email")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"role.id",compare:"numbers",initOrder:"ASC"},expression:"{sortKey: 'role.id', compare: 'numbers', initOrder: 'ASC'}"}]},[t._v("Role")]),t._v(" "),a("th",{directives:[{name:"sort",rawName:"v-sort",value:{sortKey:"isPending",compare:"bool"},expression:"{sortKey: 'isPending', compare: 'bool'}"}]},[t._v("Status")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.pageItems,function(t){return a("row",{key:t.email,attrs:{collaborator:t}})}))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},Ie={components:{CollaboratorForm:Se,CollaboratorsTable:a("VU/8")(Re,Ne,!1,null,null,null).exports},mixins:[Vt],created:function(){this.runAfterSCisSet(this.loadCollaborators)},data:function(){return{showForm:!1,loading:!1}},methods:{loadCollaborators:function(){var t=this;this.loading=!0,this.$store.dispatch("loadSCCollaborators").finally(function(){t.loading=!1})}}},Te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Collaborators")]),t._v(" "),t.showForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showForm=!0}}},[t._v("+ Add")]),t._v(" "),t.showForm?a("collaborator-form",{on:{cancel:function(e){t.showForm=!1}}}):t._e(),t._v(" "),a("collaborators-table",{staticClass:"mt-3"}),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},ke=a("VU/8")(Ie,Te,!1,null,null,null).exports;var Ae={removeNulls:function t(e){var a=zt()({},e);return Rt()(a).forEach(function(e){if(a[e]){if(a[e].constructor===Object){var n=t(a[e]);Rt()(n).length?a[e]=n:delete a[e]}}else delete a[e]}),Rt()(a).length?a:null},hasAnyData:function(t){return!!Rt()(t).find(function(e){return t[e]})},isObject:function(t){return!!t&&t.constructor===Object},isArray:function(t){return!!t&&t.constructor===Array}},Fe={name:null,regNum:null,country:null,currency:null,address:null,parent:null,logo:null},Ee={created:function(){var t=this;this.loading=!0;var e=this.$store.dispatch("loadCountries"),a=this.$store.dispatch("loadCurrencies"),n=this.$store.dispatch("loadMyCompanies");me.a.all([e,a,n]).finally(function(){t.loading=!1})},props:{company:{default:function(){return Fe}}},data:function(){return{formData:zt()({},this.company),editMode:!this.company.name,errMsg:null,loading:!1}},computed:{countries:function(){return this.$store.getters.countries},currencies:function(){return this.$store.getters.currencies},myCompanies:function(){return this.$store.getters.myCompanies}},methods:{validate:function(){return this.$validator.validateAll()},submit:function(){var t=this;this.loading=!0,this.validate().then(function(e){if(e){var a=t.company.name?"updateSelCompany":"createCompany";return t.$store.dispatch(a,t.formData)}return me.a.reject(new Error("Please, fill the required fields."))}).then(function(e){t.$emit("success",e)}).catch(function(e){t.errMsg=t.$t(e.message)}).finally(function(){t.loading=!1})},cancelEdit:function(){this.$emit("cancel"),this.editMode=!1,this.errMsg=null},edit:function(){this.editMode=!0}},watch:{company:function(t){this.editMode=!t.name,this.formData=zt()({},t),this.errMsg=null}}},qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"my-company-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.errMsg?a("div",{staticClass:"alert alert-danger text-center"},[t._v("\n    "+t._s(t.errMsg)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Company Name:")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("name")}],attrs:{type:"text",id:"name",name:"name",disabled:!t.editMode},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted"},[t._v("The complete registered name.")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"regId"}},[t._v("Registration ID:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.regNum,expression:"formData.regNum"}],staticClass:"form-control",attrs:{type:"text",id:"regId",disabled:!t.editMode},domProps:{value:t.formData.regNum},on:{input:function(e){e.target.composing||t.$set(t.formData,"regNum",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"country"}},[t._v("Country:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[{"is-invalid":t.errors.has("country")}],attrs:{id:"country",name:"country",plain:!0,disabled:!t.editMode,options:t.countries,"text-field":"name"},model:{value:t.formData.country,callback:function(e){t.$set(t.formData,"country",e)},expression:"formData.country"}})],1),t._v(" "),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"currency"}},[t._v("Reporting Currency:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[{"is-invalid":t.errors.has("currency")}],attrs:{id:"currency",name:"currency",plain:!0,disabled:!t.editMode,"slot-options":t.currencies},model:{value:t.formData.currency,callback:function(e){t.$set(t.formData,"currency",e)},expression:"formData.currency"}},t._l(t.currencies,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.code)+" - "+t._s(e.name))])}))],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address"}},[t._v("Address:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",disabled:!t.editMode},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||t.$set(t.formData,"address",e.target.value)}}})]),t._v(" "),t.myCompanies.length?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"parent"}},[t._v("Parent company:")]),t._v(" "),a("c-form-select",{attrs:{id:"parent",plain:!0,disabled:!t.editMode,options:t.myCompanies,"text-field":"name"},model:{value:t.formData.parent,callback:function(e){t.$set(t.formData,"parent",e)},expression:"formData.parent"}})],1):t._e(),t._v(" "),t.editMode?a("div",{staticClass:"text-center py-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:t.cancelEdit}},[t._v("Cancel")])]):t._e(),t._v(" "),t.editMode?t._e():a("div",{staticClass:"text-center py-3"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.edit}},[t._v("Edit")])]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},Ue=a("VU/8")(Ee,qe,!1,null,null,null).exports,Ve={data:function(){return{cpModel:zt()({},this.cProp),editMode:!this.cProp.aname}},methods:{save:function(){var t=this;return(this.cProp.aname?this.$store.dispatch("updateSCAlias",{alias:this.cProp,updatedAname:this.cpModel.aname}):this.$store.dispatch("createSCAlias",this.cpModel.aname)).then(function(){t.$emit("success")})},remove:function(){var t=this;return this.$store.dispatch("deleteSCAlias",this.cProp).then(function(){t.$emit("remove")})}}},Oe=ye()({},De,Ve),ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{attrs:{save:t.save,remove:t.remove,cancel:t.cancel,validate:t.validate,"edit-mode":!t.cProp.aname},on:{edit:t.onEdit}},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.cpModel.aname,expression:"cpModel.aname"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("aname")}],attrs:{type:"text",name:"aname",disabled:!t.editMode},domProps:{value:t.cpModel.aname},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"aname",e.target.value)}}})])},staticRenderFns:[]},Le=a("VU/8")(Oe,ze,!1,null,null,null).exports,Ke=function(t){var e={data:function(){return{cpModel:zt()({},this.cProp),editMode:!1}},computed:{hasAnyData:function(){var t=!!this.cProp&&Ae.hasAnyData(this.cProp);return this.editMode=!t,t}},methods:{validate:function(){return Ae.hasAnyData(this.cpModel)?me.a.resolve(!0):me.a.reject(new Error("Please, enter some data."))},save:function(){var e=this,a={};return a[t]=this.cpModel,this.$store.dispatch("updateSelCompany",a).then(function(){e.$emit("success")})},remove:function(){var e=this,a={};return a[t]=Rt()(this.cProp).reduce(function(t,e){return t[e]=null,t},{}),this.$store.dispatch("updateSelCompany",a).then(function(){e.$emit("remove")})}}};return ye()({},De,e)},je={mixins:[Ke("corpTax")]},Ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{attrs:{save:t.save,remove:t.remove,cancel:t.cancel,validate:t.validate,"edit-mode":!t.hasAnyData},on:{edit:t.onEdit}},[a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"corpTaxId"}},[t._v("Corporate Tax ID:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.num,expression:"cpModel.num"}],staticClass:"form-control",attrs:{id:"corpTaxId",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.num},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"num",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"corpTaxFillingDate"}},[t._v("Filing Deadline:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.fillingDate,expression:"cpModel.fillingDate"}],staticClass:"form-control",attrs:{id:"corpTaxFillingDate",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.fillingDate},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"fillingDate",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"corpTaxDueDate"}},[t._v("Due Date:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.dueDate,expression:"cpModel.dueDate"}],staticClass:"form-control",attrs:{id:"corpTaxDueDate",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.dueDate},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"dueDate",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"corpTaxAdvancedPayments"}},[t._v("Advanced Payments: to do ...:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.advancedPayments,expression:"cpModel.advancedPayments"}],staticClass:"form-control",attrs:{id:"corpTaxAdvancedPayments",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.advancedPayments},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"advancedPayments",e.target.value)}}})])])},staticRenderFns:[]},Be=a("VU/8")(je,Ye,!1,null,null,null).exports,Ge={mixins:[Ke("audit")]},He={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{attrs:{save:t.save,remove:t.remove,cancel:t.cancel,validate:t.validate,"edit-mode":!t.hasAnyData},on:{edit:t.onEdit}},[a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"auditorName"}},[t._v("Name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.name,expression:"cpModel.name"}],staticClass:"form-control",attrs:{id:"auditorName",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.name},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"auditorEmail"}},[t._v("Email:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.email,expression:"cpModel.email"}],staticClass:"form-control",attrs:{id:"auditorEmail",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.email},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"auditorPhone"}},[t._v("Phone:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.phone,expression:"cpModel.phone"}],staticClass:"form-control",attrs:{id:"auditorPhone",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.phone},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"phone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",{attrs:{for:"auditorDdl"}},[t._v("Deadline:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.ddl,expression:"cpModel.ddl"}],staticClass:"form-control",attrs:{id:"auditorDdl",type:"text",disabled:!t.editMode},domProps:{value:t.cpModel.ddl},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"ddl",e.target.value)}}})])])},staticRenderFns:[]},We=a("VU/8")(Ge,He,!1,null,null,null).exports,Xe={created:function(){var t=this;this.loading=!0,this.$store.dispatch("loadCountries").finally(function(){t.loading=!1})},props:{cProp:{required:!1,default:function(){return{}}}},data:function(){return{cpModel:zt()({},this.cProp),editMode:!this.cProp.num}},computed:{countries:function(){return this.$store.getters.countries}},methods:{save:function(){var t=this,e=this.cProp.num?"updateSCVat":"createSCVat";return this.$store.dispatch(e,this.cpModel).then(function(){t.$emit("success")})},remove:function(){var t=this;return this.$store.dispatch("deleteSCVat",this.cProp).then(function(){t.$emit("remove")})}}},Qe=ye()({},De,Xe),Je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{attrs:{save:t.save,remove:t.remove,cancel:t.cancel,validate:t.validate,"edit-mode":!t.cProp.num},on:{edit:t.onEdit}},[a("div",{staticClass:"cp-row"},[a("label",[t._v("Country:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("country")}],attrs:{name:"country",plain:!0,disabled:!t.editMode,options:t.countries,"text-field":"name"},model:{value:t.cpModel.country,callback:function(e){t.$set(t.cpModel,"country",e)},expression:"cpModel.country"}})],1),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",[t._v(t._s(1===t.cpModel.countryId?"VAT ID":"Sales Tax ID")+":")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.num,expression:"cpModel.num"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("num")}],attrs:{type:"text",name:"num",disabled:!t.editMode},domProps:{value:t.cpModel.num},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"num",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",[t._v("Reporting Regularity:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.reportingRegularity,expression:"cpModel.reportingRegularity"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("repReg")}],attrs:{type:"text",name:"repReg",disabled:!t.editMode},domProps:{value:t.cpModel.reportingRegularity},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"reportingRegularity",e.target.value)}}})])])},staticRenderFns:[]},Ze=a("VU/8")(Qe,Je,!1,null,null,null).exports,ta={created:function(){var t=this;this.loading=!0,this.$store.dispatch("loadResponsibilityKeys").finally(function(){t.loading=!1})},props:{cProp:{required:!1,default:function(){return{responsibility:{}}}}},data:function(){return{cpModel:zt()({},this.cProp),editMode:!this.cProp.name}},computed:{responsibilityKeys:function(){return this.$store.getters.responsibilityKeys}},methods:{save:function(){var t=this,e=this.cProp.num?"updateSCPersonnel":"createSCPersonnel";return this.$store.dispatch(e,this.cpModel).then(function(){t.$emit("success")})},remove:function(){var t=this;return this.$store.dispatch("deleteSCPersonnel",this.cProp).then(function(){t.$emit("remove")})}}},ea=ye()({},De,ta),aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{attrs:{save:t.save,remove:t.remove,cancel:t.cancel,validate:t.validate,"edit-mode":!t.cProp.name},on:{edit:t.onEdit}},[a("div",{staticClass:"cp-row"},[a("label",[t._v("Responsibility:")]),t._v(" "),a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("responsibility")}],attrs:{name:"responsibility",disabled:!t.editMode,plain:!0},model:{value:t.cpModel.responsibility.id,callback:function(e){t.$set(t.cpModel.responsibility,"id",e)},expression:"cpModel.responsibility.id"}},t._l(t.responsibilityKeys,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",[t._v("Name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.name,expression:"cpModel.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("name")}],attrs:{type:"text",name:"name",disabled:!t.editMode},domProps:{value:t.cpModel.name},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",[t._v("Email:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.email,expression:"cpModel.email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("email")}],attrs:{type:"text",name:"email",disabled:!t.editMode},domProps:{value:t.cpModel.email},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"cp-row"},[a("label",[t._v("Phone:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.phone,expression:"cpModel.phone"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("phone")}],attrs:{type:"text",name:"phone",disabled:!t.editMode},domProps:{value:t.cpModel.phone},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"phone",e.target.value)}}})])])},staticRenderFns:[]},na=a("VU/8")(ea,aa,!1,null,null,null).exports;var ra={getFirstLetter:function(t){return t.slice(0,1)},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},oa={created:function(){var t=this;this.cProp.category||(this.cpModel.category={id:it[this.cat]}),this.loading=!0;var e="load"+ra.capitalizeFirstLetter(this.storeKeysName);this.$store.dispatch(e).finally(function(){t.loading=!1})},props:{cProp:{required:!1,default:function(){return{key:{}}}},cat:{required:!0}},data:function(){return{cpModel:zt()({},this.cProp),storeKeysName:this.cat+"Keys",editMode:!this.cProp.value}},computed:{keys:function(){return this.$store.getters[this.storeKeysName]}},methods:{save:function(){var t=this,e=this.cProp.value?"updateSCCPPair":"createSCCPPair";return this.$store.dispatch(e,this.cpModel).then(function(){t.$emit("success")})},remove:function(){var t=this;return this.$store.dispatch("deleteSCCPPair",this.cProp).then(function(){t.$emit("remove")})}}},sa=ye()({},De,oa),ia={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cp-form",{attrs:{save:t.save,remove:t.remove,cancel:t.cancel,validate:t.validate,"edit-mode":!t.cProp.value},on:{edit:t.onEdit}},[a("div",{staticClass:"cp-row cp-pair"},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("key")}],attrs:{name:"key",disabled:!t.editMode,plain:!0},model:{value:t.cpModel.key.id,callback:function(e){t.$set(t.cpModel.key,"id",e)},expression:"cpModel.key.id"}},t._l(t.keys,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.label))])})),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cpModel.value,expression:"cpModel.value"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:[{"is-invalid":t.errors.has("value")}],attrs:{name:"value",disabled:!t.editMode,rows:"3"},domProps:{value:t.cpModel.value},on:{input:function(e){e.target.composing||t.$set(t.cpModel,"value",e.target.value)}}})],1)])},staticRenderFns:[]},la={components:{MyCompanyForm:Ue,Alias:Le,CorpTax:Be,Audit:We,Vat:Ze,Personnel:na,CpPair:a("VU/8")(sa,ia,!1,null,null,null).exports},data:function(){return{showAliasForm:!1,showCorpTax:!1,showAudit:!1,showVatForm:!1,showPersonnelForm:!1,showTaxForm:!1,showSoftwareForm:!1,showMiscForm:!1,loading:!1}},computed:{company:function(){return this.$store.getters.selectedCompany||{}},hasAnyCorpTaxData:function(){return!!this.company.corpTax&&Ae.hasAnyData(this.company.corpTax)},hasAnyAuditData:function(){return!!this.company.audit&&Ae.hasAnyData(this.company.audit)}}},ca={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"company-profile"},[a("my-company-form",{attrs:{company:t.company}}),t._v(" "),a("h2",[t._v("Aliases")]),t._v(" "),t._l(t.company.aliases,function(t){return a("alias",{key:t.id,attrs:{"c-prop":t}})}),t._v(" "),t.showAliasForm?a("alias",{attrs:{"c-prop":{companyId:t.company.id,refCompanyId:t.company.id}},on:{cancel:function(e){t.showAliasForm=!1}}}):t._e(),t._v(" "),t.showAliasForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showAliasForm=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("Corporate Tax")]),t._v(" "),t.hasAnyCorpTaxData||!t.hasAnyCorpTaxData&&t.showCorpTax?a("corp-tax",{attrs:{"c-prop":t.company.corpTax},on:{cancel:function(e){t.showCorpTax=!1}}}):t._e(),t._v(" "),t.hasAnyCorpTaxData||t.showCorpTax?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showCorpTax=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("Audit")]),t._v(" "),t.hasAnyAuditData||!t.hasAnyAuditData&&t.showAudit?a("audit",{attrs:{"c-prop":t.company.audit},on:{cancel:function(e){t.showAudit=!1}}}):t._e(),t._v(" "),t.hasAnyAuditData||t.showAudit?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showAudit=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("VAT / Sales Tax")]),t._v(" "),t._l(t.company.vats,function(t){return a("vat",{key:t.id,attrs:{"c-prop":t}})}),t._v(" "),t.showVatForm?a("vat",{on:{cancel:function(e){t.showVatForm=!1}}}):t._e(),t._v(" "),t.showVatForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showVatForm=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("Personnel")]),t._v(" "),t._l(t.company.personnel,function(t){return a("personnel",{key:t.id,attrs:{"c-prop":t}})}),t._v(" "),t.showPersonnelForm?a("personnel",{on:{cancel:function(e){t.showPersonnelForm=!1}}}):t._e(),t._v(" "),t.showPersonnelForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showPersonnelForm=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("Taxes")]),t._v(" "),t._l(t.company.taxes,function(t){return a("cp-pair",{key:t.id,attrs:{"c-prop":t,cat:"tax"}})}),t._v(" "),t.showTaxForm?a("cp-pair",{attrs:{cat:"tax"},on:{cancel:function(e){t.showTaxForm=!1}}}):t._e(),t._v(" "),t.showTaxForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showTaxForm=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("Software")]),t._v(" "),t._l(t.company.software,function(t){return a("cp-pair",{key:t.id,attrs:{"c-prop":t,cat:"software"}})}),t._v(" "),t.showSoftwareForm?a("cp-pair",{attrs:{cat:"software"},on:{cancel:function(e){t.showSoftwareForm=!1}}}):t._e(),t._v(" "),t.showSoftwareForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showSoftwareForm=!0}}},[t._v("+ Add")]),t._v(" "),a("h2",[t._v("Misc")]),t._v(" "),t._l(t.company.misc,function(t){return a("cp-pair",{key:t.id,attrs:{"c-prop":t,cat:"misc"}})}),t._v(" "),t.showMiscForm?a("cp-pair",{attrs:{cat:"misc"},on:{cancel:function(e){t.showMiscForm=!1}}}):t._e(),t._v(" "),t.showMiscForm?t._e():a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.showMiscForm=!0}}},[t._v("+ Add")])],2)},staticRenderFns:[]},da=[{path:"upload",name:"Upload",component:Ut,meta:{pageId:"upload-page",pageClass:""},beforeEnter:E},{path:"contacts",name:"Contacts",component:he,meta:{pageId:"contacts-page",pageClass:""},beforeEnter:E},{path:"profile",name:"CompanyProfile",component:a("VU/8")(la,ca,!1,null,null,null).exports,meta:{pageId:"profile-page",pageClass:""},beforeEnter:E},{path:"collaborators",name:"Collaborators",component:ke,meta:{pageId:"collaborators-page",pageClass:""},beforeEnter:E}];function ua(t){return{id:t.id,name:t.name,code:t.isoCode,order:t.sortOrder}}function ma(t){return ua(t)}function va(t){return ua(t)}var pa={};[{name:"countries",converter:"apiToCountry"},{name:"currencies",converter:"apiToCurrency"}].reduce(function(t,e){return t[e.name]=function(){var t=e.endpoint||e.name,a=w.a.get("/"+t);return e.converter?a.then(function(t){return t.map(n[e.converter])}):a},t},pa),Rt()(it).reduce(function(t,e){return t[e+"Keys"]=function(){return t=it[e],w.a.get("/CompanyPropertyTypes/"+t+"/keys");var t},t},pa);var fa=pa,_a={},ha={},ga={},ya={};Rt()(fa).forEach(function(t){var e,a;a=fa[t],_a[e=t]=null,ha[e]=function(t){return t[e]},ga[e]=function(t,a){t[e]=a},ya["load"+ra.capitalizeFirstLetter(e)]=function(t){var n=t.commit,r=t.state;return r[e]?me.a.resolve(r[e]):a().then(function(t){return n(e,t),t})}});var ba={state:_a,getters:ha,mutations:ga,actions:ya},Ca={created:function(){var t=this;this.loading=!0;var e=Rt()(ba.state).map(function(e){var a=ba.state[e];a?t.nomenclatures.push({name:e,items:a}):t.$store.dispatch("load"+ra.capitalizeFirstLetter(e)).then(function(a){t.nomenclatures.push({name:e,items:a})})});me.a.all(e).finally(function(){t.loading=!1})},data:function(){return{nomenclatures:[],loading:!1}},methods:{count:function(t){return Ae.isObject(t)?Rt()(t).length:t.length}}},Da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[t._l(t.nomenclatures,function(e){return a("div",{key:e.name,staticClass:"m-4"},[a("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:e.name,expression:"nomenclature.name"}],staticClass:"mb-2"},[t._v(t._s(e.name)+" ("+t._s(t.count(e.items))+")")]),t._v(" "),a("b-collapse",{attrs:{id:e.name}},[a("b-card",[a("pre",[t._v(t._s(e.items))])])],1)],1)}),t._v(" "),a("loading",{attrs:{loading:t.loading}})],2)},staticRenderFns:[]},xa=[{path:"nomenclatures",name:"Nomenclatures",component:a("VU/8")(Ca,Da,!1,null,null,null).exports,meta:{pageId:"nomenclatures-page",pageClass:""},beforeEnter:E}],$a={components:{CompanyCard:ie},props:["companies"]},wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.companies,function(e){return a("tr",[a("th",[a("router-link",{attrs:{to:"/companies/"+e.id}},[a("company-card",{attrs:{company:e,size:"m"}})],1)],1),t._v(" "),a("td",[t._v(t._s(e.aliases.map(function(t){return t.aname}).join(", ")))]),t._v(" "),a("td",[t._v(t._s(e.regNum))]),t._v(" "),a("td",[t._v(t._s(e.currency.code))]),t._v(" "),a("td",[t._v(t._s(e.parent.name))]),t._v(" "),a("td",[t._v(t._s(e.topParent))]),t._v(" "),a("td",[a("b-dropdown",{attrs:{text:"...",right:"","no-caret":""}},[a("b-dropdown-item",[t._v("Upload")]),t._v(" "),a("b-dropdown-item",[t._v("Start Reconciliation")])],1)],1)])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Aliases")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Reg Number")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Reporting Currency")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Direct Parent")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Top Parent")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}]},Sa={components:{CompaniesTable:a("VU/8")($a,wa,!1,null,null,null).exports},created:function(){var t=this;this.loading=!0,this.$store.dispatch("loadMyCompanies").finally(function(){t.loading=!1})},data:function(){return{loading:!1}},computed:{myCompanies:function(){return this.$store.getters.myCompanies}}},Pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",[t._v("Companies")]),t._v(" "),t.myCompanies.length?a("div",[a("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:"/add-company"}},[t._v(t._s(t.$t("Add Company")))]),t._v(" "),a("companies-table",{attrs:{companies:t.myCompanies}})],1):t._e(),t._v(" "),t.myCompanies.length||t.loading?t._e():a("div",{staticClass:"text-center"},[a("p",[t._v("Add your first company : )")]),t._v(" "),a("router-link",{staticClass:"btn btn-success btn-lg",attrs:{to:"/add-company"}},[t._v(t._s(t.$t("Add Company")))])],1),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)])])},staticRenderFns:[]},Ma=a("VU/8")(Sa,Pa,!1,null,null,null).exports,Ra={name:"AddCompany",components:{MyCompanyForm:Ue},methods:{onAddedCompany:function(t){this.$router.push({name:"CompanyProfile",params:{id:t.id}})},cancel:function(){this.$router.go(-1)}}},Na={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mx-auto pt-5"},[e("div",{staticClass:"card"},[e("h2",{staticClass:"card-header text-center"},[this._v(this._s(this.$t("Add Company")))]),this._v(" "),e("div",{staticClass:"card-body"},[e("my-company-form",{on:{success:this.onAddedCompany,cancel:this.cancel}})],1)])])])])},staticRenderFns:[]},Ia=a("VU/8")(Ra,Na,!1,null,null,null).exports,Ta={components:{CompanyCard:ie},props:["invitations"],data:function(){return{companiesModels:[],loading:!1}},computed:{myCompanies:function(){return this.$store.getters.myCompanies}},methods:{accept:function(t){var e=this.invitations[t],a=myCompanies[t];this.loadStore("rejectContactInvitation",{company:a,invitation:e})},reject:function(t){var e=this.invitations[t];this.loadStore("rejectContactInvitation",e)},loadStore:function(t,e){var a=this;this.loading=!0,this.$store.dispatch(t,e).finally(function(){a.loading=!1})}}},ka={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.invitations,function(e,n){return a("tr",{key:e.id},[a("td",[a("company-card",{attrs:{company:e.sender.company,size:"m"}}),t._v(" "),a("div",[a("strong",[t._v("Country: ")]),t._v(t._s(e.sender.company.country.name))]),t._v(" "),a("div",[a("strong",[t._v("Reg #: ")]),t._v(t._s(e.sender.company.regNum))])],1),t._v(" "),a("td",[a("company-card",{attrs:{company:e.receiver,size:"m"}}),t._v(" "),a("div",[a("strong",[t._v("Country: ")]),t._v(t._s(e.receiver.country.name))]),t._v(" "),a("div",[a("strong",[t._v("Reg #: ")]),t._v(t._s(e.receiver.regNum))])],1),t._v(" "),a("td",[a("form",{on:{submit:function(e){e.preventDefault(),t.accept(n)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"country"}},[t._v("Country:")]),t._v(" "),a("c-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:[{"is-invalid":t.errors.has("myCompany")}],attrs:{name:"myCompany",plain:!0,options:t.myCompanies,"text-field":"name"},model:{value:t.companiesModels[n],callback:function(e){t.$set(t.companiesModels,n,e)},expression:"companiesModels[index]"}})],1),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Accept")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.reject(n)}}},[t._v("Reject")])])])])}))]),t._v(" "),a("pre",[t._v(t._s(t.invitations))]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("From Company")]),this._v(" "),e("th",[this._v("To Company")]),this._v(" "),e("th",[this._v("Actions")])])])}]},Aa={components:{ReceivedInvitationsTable:a("VU/8")(Ta,ka,!1,null,null,null).exports},created:function(){var t=this;this.loading=!0,this.$store.dispatch("loadReceivedInvitations").finally(function(){t.loading=!1})},data:function(){return{loading:!1}},computed:{receivedInvitations:function(){return this.$store.getters.receivedInvitations}},methods:{}},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Received Invitations")]),t._v(" "),t.receivedInvitations.length?a("received-invitations-table",{attrs:{invitations:t.receivedInvitations}}):t._e(),t._v(" "),t.receivedInvitations.length||t.loading?t._e():a("div",[t._v("There are no any invitations.")]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},Ea=a("VU/8")(Aa,Fa,!1,null,null,null).exports,qa={data:function(){return{formData:{statement:1}}},methods:{submit:function(){alert("Bai Hui")}}},Ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("h1",[t._v("Matching Tool")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"country"}},[t._v("Statement type:")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.statement,expression:"formData.statement"}],staticClass:"form-control",attrs:{id:"country",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"statement",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1",selected:""}},[t._v("Balance Sheet")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("Income Statement")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("Cash Flow Statement")])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"from"}},[t._v("From:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.from,expression:"formData.from"}],staticClass:"form-control",attrs:{type:"text",id:"from",required:""},domProps:{value:t.formData.from},on:{input:function(e){e.target.composing||t.$set(t.formData,"from",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"to"}},[t._v("To:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.to,expression:"formData.to"}],staticClass:"form-control",attrs:{type:"text",id:"to",required:""},domProps:{value:t.formData.to},on:{input:function(e){e.target.composing||t.$set(t.formData,"to",e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"file1"}},[this._v("Own Company File:")]),this._v(" "),e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"file1"}}),this._v(" "),e("label",{staticClass:"custom-file-label",attrs:{for:"file1"}},[this._v("Choose file")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"file2"}},[this._v("Opposite Company File:")]),this._v(" "),e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"file2"}}),this._v(" "),e("label",{staticClass:"custom-file-label",attrs:{for:"file2"}},[this._v("Choose file")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Submit")])])}]},Va=a("VU/8")(qa,Ua,!1,null,null,null).exports,Oa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("nav",{staticClass:"nav flex-column nav-pills"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/companies/"+t.id+"/upload"}},[t._v("Upload")]),t._v(" "),a("router-link",{staticClass:"nav-link",attrs:{to:"/companies/"+t.id+"/contacts"}},[t._v("Contacts")]),t._v(" "),a("router-link",{staticClass:"nav-link",attrs:{to:"/companies/"+t.id+"/profile"}},[t._v("Profile")]),t._v(" "),a("router-link",{staticClass:"nav-link",attrs:{to:"/companies/"+t.id+"/collaborators"}},[t._v("Collaborators")])],1)]),t._v(" "),a("div",{staticClass:"col-10"},[a("h1",[t._v(t._s(t.company.name))]),t._v(" "),a("router-view")],1)]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},za=a("VU/8")({props:["id"],created:function(){var t=this;this.loading=!0,this.$store.dispatch("loadSelCompany",this.id).finally(function(){t.loading=!1})},data:function(){return{loading:!1}},computed:{company:function(){return this.$store.getters.selectedCompany||{}}}},Oa,!1,null,null,null).exports,La={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-tabs",{attrs:{pills:"",card:"",vertical:""}},[a("b-tab",{attrs:{title:"Profile",active:""}},[t._v("\n          TODO: profile form\n          "),a("pre",[t._v(t._s(t.user))])]),t._v(" "),a("b-tab",{attrs:{title:"Settings"}},[t._v("\n          TODO: settings controls\n        ")]),t._v(" "),a("b-tab",{attrs:{title:"Change Password"}},[t._v("\n          TODO: change password form\n        ")])],1)],1)]),t._v(" "),a("loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]},Ka=a("VU/8")({components:{},data:function(){return{loading:!1}},computed:{user:function(){return this.$store.getters.user}}},La,!1,null,null,null).exports,ja={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},Ya=a("VU/8")({name:"Prototype"},ja,!1,null,null,null).exports;r.a.use(A.a);var Ba=new A.a({routes:[{path:"/",name:"Home",component:Ma,meta:{pageId:"home-page",pageClass:""},beforeEnter:E}].concat(k()(nt),[{path:"/user",name:"UserPage",component:Ka,meta:{pageId:"user-page",pageClass:""},beforeEnter:E},{path:"/companies/:id",name:"CompanyPage",component:za,props:!0,redirect:"/companies/:id/profile",meta:{pageId:"company-page",pageClass:""},beforeEnter:E,children:da},{path:"/add-company",name:"AddCompany",component:Ia,meta:{pageId:"add-company-page",pageClass:""},beforeEnter:E},{path:"/received-invitations",name:"ReceivedInvitations",component:Ea,meta:{pageId:"received-invitations-page",pageClass:""},beforeEnter:E},{path:"/matching-tool",name:"MatchingTool",component:Va,meta:{pageId:"matching-tool-page",pageClass:""},beforeEnter:E},{path:"/prototype",name:"Prototype",component:Ya,redirect:"/prototype/company",meta:{pageId:"",pageClass:"prototype-page"},beforeEnter:E,children:xa},{path:"*",redirect:"/"}]),mode:"history",linkExactActiveClass:"active"}),Ga={state:{user:null,token:null},getters:{user:function(t){return t.user},token:function(t){return t.token}},mutations:{setToken:function(t,e){t.token=e},setUser:function(t,e){t.user=e},clearUser:function(t){t.user=null,t.token=null}},actions:{loadUserCash:function(t){var e=t.commit,a=sessionStorage.getItem("at");a&&e("setToken",a);var n=JSON.parse(sessionStorage.getItem("ud"));n&&e("setUser",n)},register:function(t,e){t.commit;return P(e)},login:function(t,e){var a=t.commit;return M(e).then(function(t){sessionStorage.setItem("ud",x()(t)),a("setUser",t)})},logout:function(t){var e=t.dispatch;return R().finally(function(){e("clearout")})},clearout:function(t){var e=t.commit;e("clearUser"),e("clearInvitations"),Ba.push("/login"),sessionStorage.clear()},setToken:function(t,e){(0,t.commit)("setToken",e),sessionStorage.setItem("at",e)}}};function Ha(t){return{id:t.id,name:t.name,country:{id:t.country.id,code:t.country.code,name:t.country.name},regNum:t.registrationNumber,logo:ln(t.name,t.logoUrl)}}function Wa(t){return C()({},Ha(t),{aliases:t.companyAliases.map(Ja)})}function Xa(t){return C()({},Ha(t),{currency:{id:t.currency.id,code:t.currency.code},address:t.addressText,parent:{id:t.parent.id,name:t.parent.name},aliases:t.companyAliases.map(Ja),userSettings:t.userSettings,userRole:{id:t.userRole.id,label:t.userRole.label}})}function Qa(t){var e=C()({},Xa(t),{corpTax:{num:t.taxNumber,fillingDate:t.taxFillingDate,dueDate:t.taxDueDate,advancedPayments:t.taxAdvancedPaymentsRecurringDate},audit:{name:t.auditorName,email:t.auditorEmail,phone:t.auditorRecurringDate},personnel:t.companyPersonnels.map(tn),vats:t.companyVatNumbers.map(Za),taxes:[],software:[],misc:[]});return t.companyPropertyValues.reduce(function(t,e){var a=en(e);switch(a.category.id){case it.tax:t.taxes.push(a);break;case it.software:t.software.push(a);break;default:t.misc.push(a)}return t},e),console.log("* api-to-company: ",e),e}function Ja(t){return{id:t.id,companyid:t.companyId,refCompanyid:t.refCompanyId,aname:t.aliasText}}function Za(t){return{id:t.id,num:t.vatNumber,country:{id:t.countryId},reportingRegularity:t.recurringDate}}function tn(t){return{id:t.id,responsibility:{id:t.typeId,label:"TODO: get ot nomenclatures"},customResponsibility:t.typeText,name:t.name,email:t.email,phone:t.phone}}function en(t){return{id:t.id,category:{id:t.typeId,name:t.typeName},key:{id:t.keyId,label:t.keyName},customKey:t.customKey,value:t.value}}function an(t,e,a,n){void 0!==a[n]&&(t[e]=a[n])}function nn(t){return{id:t.id,companyid:t.companyId,refCompanyid:t.refCompanyId,aliasText:t.aname}}function rn(t){return{id:t.id,typeid:t.responsibility.id,typeText:t.customResponsibility,name:t.name,email:t.email,phone:t.phone}}function on(t){var e={vatNumber:t.num,countryid:t.country.id,recurringDate:t.reportingRegularity};return t.id&&(e.id=t.id),e}function sn(t){var e={typeid:t.category.id,value:t.value};return t.id&&(e.id=t.id),t.customKey?e.customKey=t.customKey:e.keyId=t.key.id,e}function ln(t,e){var a={};return e?a.URL=e:a.initials=ra.getFirstLetter(t),a}function cn(t){var e=un(t);return e.sender=function(t){return{company:{id:t.companyId,name:t.companyName,regNum:t.companyRegistrationNumber,country:{id:t.companyCountry.id,code:t.companyCountry.code,name:t.companyCountry.name},logo:ln(t.companyName,t.companyLogoUrl)},user:vn(t)}}(t),e.receiver=mn(t),e}function dn(t){var e=un(t);return e.sender={user:vn(t)},e.receiver=mn(t),e}function un(t){return{id:t.id,ddl:new Date(t.expirationDate)}}function mn(t){return{email:t.invitedUserEmail,name:t.invitedCompanyName,regNum:t.invitedCompanyRegistrationNumber,country:{id:t.invitedCompanyCountry.id,code:t.invitedCompanyCountry.code,name:t.invitedCompanyCountry.name},logo:ln(t.invitedCompanyName)}}function vn(t){return{name:t.inviterName,email:t.inviterEmail}}var pn=function(t){return w.a.get("/Contacts/Companies/"+t.id).then(function(t){return t.map(Wa)})},fn=function(t){return w.a.get("/Contacts/Companies/"+t.id+"/PendingSentInvitations").then(function(t){return t.map(dn)})},_n=function(t,e){var a,n={invitedCompanyName:(a=e).name,invitedCompanyCountryId:a.country.id,invitedCompanyRegistrationNumber:a.regNum,collaboratorEmail:a.email,message:a.message};return w.a.post("/Contacts/Companies/"+t.id,n).then(dn)},hn=function(t){return w.a.delete("/Contacts/Invitations/"+t.id)},gn=function(){return w.a.get("/Contacts/PendingReceivedInvitations").then(function(t){return t.map(cn)})},yn=function(t,e){return w.a.post("/Contacts/Invitations/"+e.id+"/Companies/"+t.id+"/Acceptance")},bn=function(t){return w.a.post("/Contacts/Invitations/"+t.id+"/Rejection")};function Cn(t,e){return function(a){return t(e,a),a}}var Dn={state:{invitations:[]},getters:{receivedInvitations:function(t){return t.invitations}},mutations:{setUserReceivedInvitations:function(t,e){t.invitations=e},removeInvitation:function(t,e){var a=t.invitations.findIndex(function(t){return t.id===e.id});t.invitations.splice(a,1)},clearInvitations:function(t){t.invitations=[]}},actions:{loadReceivedInvitations:function(t){var e=t.commit;return gn().then(Cn(e,"setUserReceivedInvitations"))},acceptContactInvitation:function(t,e){var a=t.commit,n=e.company,r=e.invitation;return yn(n,r).then(Cn(a,"removeInvitation"))},rejectContactInvitation:function(t,e){var a=t.commit;return bn(e).then(Cn(a,"removeInvitation"))}}},xn={state:C()({},Ga.state,Dn.state),getters:C()({},Ga.getters,Dn.getters),mutations:C()({},Ga.mutations,Dn.mutations),actions:C()({},Ga.actions,Dn.actions)};function $n(t){return{name:t.fullName||"",role:{id:t.roleId,label:t.roleLabel},company:{id:t.companyId},email:t.userEmail,isPending:t.isPending}}function wn(t){var e={roleid:t.role.id,userEmail:t.email};return t.name&&(e.fullName=t.name),t.company&&(e.companyId=t.company.id),e}var Sn={getCompanyCollaborators:function(t){return w.a.get("/Collaborators/Companies/"+t.id).then(function(t){return t.map($n)})},create:function(t,e){e.company=t;var a=wn(e);return w.a.post("/Collaborators/",a).then($n)},update:function(t){var e=wn(t);return w.a.put("/Collaborators/",e)},remove:function(t){return w.a.delete("/Collaborators/Companies/"+t.company.id+"/Users/"+t.email)}},Pn={state:{collaborators:[]},mutations:{setCollaborators:function(t,e){t.collaborators=e},addCollaborator:function(t,e){t.collaborators.push(e)},updateCollaborator:function(t,e){var a=t.collaborators.findIndex(function(t){return t.id===e.id});t.collaborators[a]=e},removeCollaborator:function(t,e){var a=t.collaborators.indexOf(e);t.collaborators.splice(a,1)}},actions:{loadSCCollaborators:function(t){var e=t.commit,a=t.getters;return Sn.getCompanyCollaborators(a.selectedCompany).then(Cn(e,"setCollaborators"))},addSCCollaborator:function(t,e){var a=t.commit,n=t.getters;return Sn.create(n.selectedCompany,e).then(Cn(a,"addCollaborator"))},updateCollaborator:function(t,e){var a=t.commit;return Sn.update(e).then(function(){return a("updateCollaborator",e),!0})},removeCollaborator:function(t,e){var a=t.commit;return Sn.delete(e).then(function(){a("removeCollaborator",e)})}},getters:{collaborators:function(t){return t.collaborators}}},Mn=function(){return w.a.get("/Companies/").then(function(t){return t.map(Xa)})},Rn=function(t){var e={name:t.name,countryId:t.country.id,currencyId:t.currency.id};return t.regNum&&(e.registrationNumber=t.regNum),t.parent&&(e.parentId=t.parent.id),w.a.post("/Companies/",e).then(Qa)},Nn=function(t){return w.a.get("/Companies/"+t.id).then(Qa)},In=function(t,e){var a=function(t){var e={};return an(e,"id",t,"id"),an(e,"name",t,"name"),an(e,"registrationNumber",t,"regNum"),an(e,"addressText",t,"address"),t.aliases&&(e.companyAliases=t.aliases.map(nn)),t.personnel&&(e.companyPersonnels=t.personnel.map(rn)),t.vats&&(e.companyVatNumbers=t.vats.map(on)),t.taxes&&(e.taxes=t.taxes.map(sn)),t.software&&(e.software=t.software.map(sn)),t.misc&&(e.companyPropertyValues=t.misc.map(sn)),t.country&&(e.countryId=t.country.id),t.currency&&(e.currencyId=t.currency.id),t.parent&&(e.parentId=t.parent.id),t.corpTax&&(e.taxNumber=t.corpTax.num,e.taxFillingDate=t.corpTax.fillingDate,e.taxDueDate=t.corpTax.dueDate,e.taxAdvancedPaymentsRecurringDate=t.corpTax.advancedPayments),t.audit&&(e.auditorName=t.audit.name,e.auditorEmail=t.audit.email,e.auditorRecurringDate=t.audit.phone),e}(e);return w.a.patch("/Companies/"+t.id,a).then(Qa)},Tn=function(t){return w.a.delete("/Companies/"+t.id)},kn=function(t,e){var a=new FormData;return a.append("file",e),w.a.post("/Companies/"+t.id+"/Logo",a)},An=function(t,e,a){var n={companyId:t.id,refCompanyId:e.id,aliasText:a};return w.a.post("/Aliases/",n).then(Ja)},Fn=function(t,e){var a={aliasText:e};return w.a.patch("/Aliases/"+t.id,a)},En=function(t){return w.a.delete("/Aliases/"+t.id)},qn={create:function(t,e){e.company=t;var a=rn(e);return w.a.post("/Personnel/",a).then(tn)},update:function(t){var e=rn(t);return w.a.patch("/Personnel/"+e.id,e)},delete:function(t){return w.a.delete("/Personnel/"+t.id)}},Un={create:function(t,e){e.company=t;var a=on(e);return w.a.post("/Vats/",a).then(Za)},update:function(t){var e=on(t);return w.a.patch("/Vats/"+e.id,e)},delete:function(t){return w.a.delete("/Vats/"+t.id)}},Vn={create:function(t,e){e.company=t;var a=sn(e);return w.a.post("/CompanyPropertyValues/",a).then(en)},update:function(t){var e=sn(t);return w.a.patch("/CompanyPropertyValues/"+e.id,e)},delete:function(t){return w.a.delete("/CompanyPropertyValues/"+t.id)}},On={myCompanies:[],selectedCompany:null},zn={};Rt()(On).reduce(function(t,e){return t[e]=function(t){return t[e]},t},zn);var Ln={setMyCompanies:function(t,e){t.myCompanies=e},addCompany:function(t,e){t.myCompanies.push(e)},setSelectedCompany:function(t,e){if(t.selectedCompany=e,t.myCompanies){var a=t.myCompanies.findIndex(function(t){return t.id===e.id});a>-1&&(t.myCompanies[a]=e)}},deleteSelCompany:function(t){if(t.myCompanies){var e=t.myCompanies.indexOf(t.selectedCompany);e>-1&&t.myCompanies.splice(e,1)}t.selectedCompany=null},setSCLogo:function(t,e){t.selectedCompany.logo.URL=e},addSCAlias:function(t,e){t.selectedCompany.aliases.push(e)},updateSCAlias:function(t,e){var a=e.alias,n=e.updatedAname,r=t.selectedCompany.aliases;r[r.indexOf(a)].aname=n},deleteSCAlias:function(t,e){var a=t.selectedCompany.aliases,n=a.indexOf(e);a.splice(n,1)},addSCVat:function(t,e){t.selectedCompany.vats.push(e)},updateSCVat:function(t,e){var a=t.selectedCompany.vats;a[a.findIndex(function(t){return t.id===e.id})]=e},deleteSCVat:function(t,e){var a=t.selectedCompany.vats,n=a.indexOf(e);a.splice(n,1)},addSCPersonnel:function(t,e){t.selectedCompany.personnel.push(e)},updateSCPersonnel:function(t,e){var a=t.selectedCompany.personnel;a[a.findIndex(function(t){return t.id===e.id})]=e},deleteSCPersonnel:function(t,e){var a=t.selectedCompany.personnel,n=a.indexOf(e);a.splice(n,1)},addSCCPPair:function(t,e){var a=Kn(e);t.selectedCompany[a].push(e)},updateSCCPPair:function(t,e){var a=Kn(e),n=t.selectedCompany[a];n[n.findIndex(function(t){return t.id===e.id})]=e},deleteSCCPPair:function(t,e){var a=Kn(e),n=t.selectedCompany[a],r=n.indexOf(e);n.splice(r,1)}};function Kn(t){var e=Rt()(it).find(function(e){return it[e]===t.category.id});return"tax"===e&&(e="taxes"),e}function jn(t,e){return function(a){return t(e,a),a}}var Yn={loadMyCompanies:function(t){var e=t.commit;t.state;return Mn().then(jn(e,"setMyCompanies"))},createCompany:function(t,e){var a=t.commit;return Rn(e).then(jn(a,"addCompany"))},loadSelCompany:function(t,e){var a=t.commit,n=t.state;return n.selectedCompany&&n.selectedCompany.id===e?me.a.resolve(n.selectedCompany):Nn({id:e}).then(jn(a,"setSelectedCompany"))},updateSelCompany:function(t,e){var a=t.commit,n=t.state;return In(n.selectedCompany,e).then(function(t){return a("setSelectedCompany",t),t})},deleteSelCompany:function(t){var e=t.commit,a=t.state;return Tn(a.selectedCompany).then(function(){e("deleteSelCompany")})},uploadSCLogo:function(t,e){var a=t.commit,n=t.state;return kn(n.selectedCompany,e).then(jn(a,"setSCLogo"))},createSCAlias:function(t,e){var a=t.commit,n=t.state;return An(n.selectedCompany,n.selectedCompany,e).then(jn(a,"addSCAlias"))},updateSCAlias:function(t,e){var a=t.commit,n=e.alias,r=e.updatedAname;return Fn(n,r).then(function(){return a("updateSCAlias",{alias:n,updatedAname:r}),!0})},deleteSCAlias:function(t,e){var a=t.commit;return En(e).then(function(){a("deleteSCAlias",e)})}};[{name:"Vat",service:Un},{name:"Personnel",service:qn},{name:"CPPair",service:Vn}].reduce(function(t,e){t["createSC"+e.name]=function(t,a){var n=t.commit,r=t.state;return e.service.create(r.selectedCompany,a).then(jn(n,"addSC"+e.name))};var a="updateSC"+e.name;t[a]=function(t,e){var n=t.commit;return Vn.update(e).then(function(){return n(a,e),!0})};var n="deleteSC"+e.name;return t[n]=function(t,a){var r=t.commit;return e.service.delete(a).then(function(){r(n,a)})},t},Yn);var Bn={state:On,getters:zn,mutations:Ln,actions:Yn},Gn={contacts:[],companySentInvitations:[]},Hn={},Wn={addInvitation:function(t,e){t.companySentInvitations.push(e)},removeInvitation:function(t,e){var a=t.companySentInvitations.indexOf(e);a>-1&&t.companySentInvitations.splice(a,1)}};Rt()(Gn).forEach(function(t){Hn[t]=function(e){return e[t]},Wn["set"+ra.capitalizeFirstLetter(t)]=function(e,a){e[t]=a}});var Xn={state:Gn,mutations:Wn,actions:{loadSCContacts:function(t){var e=t.commit,a=t.getters;return pn(a.selectedCompany).then(Cn(e,"setContacts"))},loadSCSentInvitations:function(t){var e=t.commit,a=t.getters;return fn(a.selectedCompany).then(Cn(e,"setCompanySentInvitations"))},inviteContact:function(t,e){var a=t.commit,n=t.getters;return _n(n.selectedCompany,e).then(Cn(a,"addInvitation"))},cancelInvitation:function(t,e){var a=t.commit;return hn(e).then(function(){a("removeInvitation",e)})}},getters:Hn};function Qn(t){return{id:t.id,statementType:{id:t.statementTypeId},fromDate:new Date(t.startDate),toDate:new Date(t.endDate)}}function Jn(t){var e={recordsCount:{}};return e.recognizedCompaniesSets=t.validTransactionsSummary.map(tr),e.recordsCount.validRecognizedCompany=Zn(e.recognizedCompaniesSets),e.unrecognizedCompaniesSets=t.unknownRefCompanyTransactionsSummary.map(er),e.recordsCount.validUnrecognizedCompany=Zn(e.unrecognizedCompaniesSets),e.recordsCount.invalid=t.invalidTransactionsCount?t.invalidTransactionsCount:0,e.recordsCount.outOfScope=t.outOfScopeTransactionsCount?t.outOfScopeTransactionsCount:0,e.recordsCount.removed=t.userCanceledTransactionsCount?t.userCanceledTransactionsCount:0,e}function Zn(t){return t.reduce(function(t,e){return t+e.payables.count+e.receivables.count},0)}function tr(t){return C()({},er(t),{currency:{id:t.docCurrencyId,code:t.docCurrencyISOCode}})}function er(t){return{company:{id:t.companyId,name:t.companyName},receivables:{amount:+t.receivablesAmount,count:+t.receivablesCount},payables:{amount:+t.payablesAmount,count:+t.payablesCount}}}function ar(t){return C()({},(e=t.errors,a=0,n=e.map(function(t){return a=t.level>a?t.level:a,{level:{id:t.level,label:t.levelName},type:{id:t.typeId,label:t.typeName},desc:t.description}}).sort(function(t,e){return t.level.id-e.level.id}),{highestErrorLevel:a,errors:n}),{line:t.fileRowIndex,account:t.accountText,ref:t.referenceText,isReceivable:t.isReceivable,payer:t.payerName,receiver:t.receiverName,docDate:new Date(t.documentDate),postingDate:new Date(t.postingDate),dueDate:new Date(t.dueDate),currency:{id:t.currencyId},docAmount:t.documentAmount,desc:t.description});var e,a,n}var nr={importExcel:function(t,e){e.company=t;var a=function(t){var e={companyid:t.company.id,statementTypeid:t.statementType.id,startDate:t.fromDate?u.prepareForUTCString(t.fromDate):null,endDate:t.toDate?u.prepareForUTCString(t.toDate):null},a=new FormData;return a.append("data",x()(e)),a.append("file",t.file),a}(e);return w.a.post("/Imports/ExcelTransactions",a).then(Qn)},getSummary:function(t){return w.a.get("/Imports/"+t.id+"/Records/Summary").then(Jn)},getRecognizedCompanyRecords:function(t,e){return w.a.get("/Imports/"+t.id+"/ValidRecords/RefCompanies/"+e.company.id+"/Currencies/"+e.currency.id).then(function(t){return t.map(ar)})},getUnrecognizedCompanyRecords:function(t,e){return w.a.get("/Imports/"+t.id+"/ValidRecords/UnknownRefCompanies/"+e.company.name).then(function(t){return t.map(ar)})},getInvalidRecords:function(t,e){return w.a.get("/Imports/"+t.id+"/InvalidRecords").then(function(t){return t.map(ar)})}},rr={importReceipt:null,summary:null,rcSetsRecords:{},ucSetsRecords:{},invalidRecords:null,outOfScopeRecords:null};function or(t,e,a,n,r){var o=t.commit,s=t.getters,i=s[e](r);if(i)return me.a.resolve(i);var l=s.importReceipt;return nr[a](l,r).then(function(t){o(n,{set:r,records:t})})}function sr(t,e,a,n){var r=t.commit,o=t.getters,s=o[e];if(s)return me.a.resolve(s);var i=o.importReceipt;return nr[a](i).then(Cn(r,n))}var ir={state:C()({},rr),mutations:{setImportReceipt:function(t,e){t.importReceipt=e},setSummary:function(t,e){t.summary=e},setUCRecords:function(t,e){var a=t.summary.unrecognizedCompaniesSets.find(function(t){return t.company.name===e.set.company.name}),n=C()({},t.ucSetsRecords);n[a.company.name]=e.records,t.ucSetsRecords=n},setInvalidRecords:function(t,e){t.invalidRecords=e},setOutOfScopeRecords:function(t,e){t.outOfScopeRecords=e},clearImport:function(t){zt()(t,rr)}},actions:{uploadExcel:function(t,e){var a=t.commit,n=t.getters;return nr.importExcel(n.selectedCompany,e).then(Cn(a,"setImportReceipt"))},loadSummary:function(t){var e=t.commit,a=t.getters.importReceipt;return a?nr.getSummary(a).then(Cn(e,"setSummary")):me.a.resolve()},loadRecognizedCompanyRecords:function(t,e){return or(t,"recognizedCompanyRecords","getRecognizedCompanyRecords","setRCRecords",e)},loadUnrecognizedCompanyRecords:function(t,e){return or(t,"unrecognizedCompanyRecords","getUnrecognizedCompanyRecords","setUCRecords",e)},loadInvalidRecords:function(t){return sr(t,"invalidRecords","getInvalidRecords","setInvalidRecords")},loadOutOfScopeRecords:function(t){return sr(t,"outOfScopeRecords","getOutOfScopeRecords","setOutOfScopeRecords")}},getters:{importReceipt:function(t){return t.importReceipt},importSummary:function(t){return t.summary},recognizedCompaniesSets:function(t){if(t.summary)return t.summary.recognizedCompaniesSets},recognizedCompanyRecords:function(t){return function(e){if(t.rcSetsRecords&&e)return t.rcSetsRecords[e.company.name]}},unrecognizedCompaniesSets:function(t){if(t.summary)return t.summary.unrecognizedCompaniesSets},unrecognizedCompanyRecords:function(t){return function(e){if(t.ucSetsRecords&&e)return t.ucSetsRecords[e.company.name]}},recordsCount:function(t){if(t.summary)return t.summary.recordsCount},invalidRecords:function(t){return t.invalidRecords},outOfScopeRecords:function(t){return t.outOfScopeRecords},statementType:function(t){if(t.importReceipt)return st[t.importReceipt.statementType.id]},statementTypeContext:function(t){if(t.importReceipt)return st[t.importReceipt.statementType.id].context}}},lr={state:C()({},Pn.state,Bn.state,Xn.state,ir.state),getters:C()({},Pn.getters,Bn.getters,Xn.getters,ir.getters),mutations:C()({},Pn.mutations,Bn.mutations,Xn.mutations,ir.mutations),actions:C()({},Pn.actions,Bn.actions,Xn.actions,ir.actions)};r.a.use(y.a);var cr=new y.a.Store({modules:{userStore:xn,companyStore:lr,nomenclatureStore:ba}});w.a.defaults.baseURL="http://dev2.api.balanceshare.com",w.a.interceptors.request.use(function(t){t.headers=t.headers||{};var e=cr.getters.token;return e&&(t.headers.Token=e),t}),w.a.interceptors.response.use(function(t){var e=t.headers;return e.token&&cr.dispatch("setToken",e.token),t.data.data},function(t){var e=t.response;if(401===e.status)return cr.dispatch("clearout"),me.a.reject(new Error(e.statusText));if(e.data&&e.data.errors){var a=e.data.errors[0];return me.a.reject(new Error(a.message+" "+a.code+": "+a.messageDetail))}return me.a.reject(t)});var dr=a("sUu7");r.a.use(dr.a,{events:"blur"});var ur={render:function(){var t=this.$createElement,e=this._self._c||t;return this.loading?e("div",{staticClass:"loading"},[e("img",{attrs:{src:"/static/images/loading.gif"}})]):this._e()},staticRenderFns:[]},mr=a("VU/8")({props:["loading"]},ur,!1,null,null,null).exports,vr=a("OfYj"),pr={props:{options:{type:[Array],default:function(){return[]}},valueField:{type:String,default:"id"},textField:{type:String,default:"label"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){var t=this.options||[],e=this.valueField,a=this.textField,n=this.disabledField;return t.map(function(t){return Ae.isObject(t)?{value:t[e],text:String(t[a]),disabled:t[n]||!1}:{text:String(t),value:t,disabled:!1}})}}},fr=a("/gqF"),_r=a("60E9"),hr=a("TMTb"),gr=a("dfnb"),yr=a("GnGf"),br={mixins:[vr.a,fr.a,_r.a,hr.a,gr.a,pr],render:function(t){var e=this,a=e.$slots,n=e.formOptions.map(function(e,a){return t("option",{key:"option_"+a+"_opt",attrs:{disabled:Boolean(e.disabled)},domProps:{innerHTML:e.text,value:e.value}})});return t("select",{ref:"input",class:e.inputClass,directives:[{name:"model",rawName:"v-model",value:e.localValue?e.localValue[this.valueField]:e.localValue,expression:"localValue"}],attrs:{id:e.safeId(),name:e.name,multiple:e.multiple||null,size:e.isMultiple?e.selectSize:null,disabled:e.disabled,required:e.required,"aria-required":e.required?"true":null,"aria-invalid":e.computedAriaInvalid},on:{change:function(t){var a=t.target,n=Object(yr.c)(a.options).reduce(function(t,e,a){return e.selected&&t.push(a),t},[]);e.localValue=a.multiple?n:e.allOptions[n[0]],e.$emit("change",e.localValue)}}},[a.first,n,a.default])},data:function(){return{localValue:this.value}},watch:{value:function(t,e){this.localValue=t},localValue:function(t,e){this.$emit("input",this.localValue)}},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1},slotOptions:{type:[Array],default:function(){return[]}}},computed:{inputClass:function(){return["form-control",this.stateClass,this.sizeFormClass,this.isPlain?null:"custom-select",this.isPlain||!this.size?null:"custom-select-"+this.size]},isPlain:function(){return this.plain||this.isMultiple},isMultiple:function(){return Boolean(this.multiple&&this.selectSize>1)},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid?"true":"is-invalid"===this.stateClass?"true":null},allOptions:function(){return this.options.concat(this.slotOptions)}}},Cr={data:function(){return{i18n:{lang:this.$t("lang")},isDev:!0,buildTimestamp:"Sun, 13 May 2018 22:29:20 GMT"}},methods:{test:function(){console.log("TEST")},logout:function(){this.$store.dispatch("logout")}},computed:{user:function(){return this.$store.getters.user}},watch:{"$i18n.locale":function(){this.i18n.lang=this.$t("lang")}}},Dr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("body",{class:{debug:t.isDev}},[a("header",[a("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light",id:"top-bar"}},[a("b-navbar-brand",{attrs:{to:"/"}},[t._v("Balance Share")]),t._v(" "),a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[t.user?t._e():a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/login"}},[t._v("Login")]),t._v(" "),a("b-nav-item",{attrs:{to:"/register"}},[t._v("Register")])],1),t._v(" "),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item-dropdown",{attrs:{text:"DEV PAGES",right:""}},[a("b-dropdown-item",{attrs:{to:"/prototype/nomenclatures",exact:""}},[t._v("Nomenclatures")]),t._v(" "),a("b-dropdown-item",{attrs:{to:"/matching-tool",exact:""}},[t._v("Matching Tool")]),t._v(" "),a("b-dropdown-item",{attrs:{to:"/forgot"}},[t._v("Forgot pass")]),t._v(" "),a("b-dropdown-item",{attrs:{to:"/reset"}},[t._v("Reset pass")])],1),t._v(" "),a("b-nav-item-dropdown",{attrs:{text:t.i18n.lang,right:""}},[a("b-dropdown-item",{on:{click:function(e){t.$i18n.locale="en"}}},[t._v("English")]),t._v(" "),a("b-dropdown-item",{on:{click:function(e){t.$i18n.locale="bg"}}},[t._v("Български")])],1),t._v(" "),t.user?[a("b-nav-item",{attrs:{to:"/received-invitations"}},[t._v("Invitations")]),t._v(" "),a("b-nav-item",{attrs:{to:"/user"}},[t._v(t._s(t.user.name))]),t._v(" "),a("b-nav-item",{on:{click:t.logout}},[t._v(t._s(t.$t("Logout")))])]:t._e()],2)],1)],1)],1),t._v(" "),a("router-view"),t._v(" "),a("footer"),t._v(" "),t.isDev?a("div",{attrs:{id:"dev-toolbox"}},[a("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapseDevToolbox",modifiers:{collapseDevToolbox:!0}}],attrs:{variant:"outline-danger"}},[t._v("* Dev Toolbox")]),t._v(" "),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapseDevToolbox"}},[a("b-card",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:t.test}},[t._v("Test Action")]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n          "+t._s(t.buildTimestamp)+"\n        ")])])],1)],1):t._e()],1)},staticRenderFns:[]},xr=a("VU/8")(Cr,Dr,!1,null,null,null).exports;a("pQP2");r.a.config.productionTip=!1,r.a.use(s.a),r.a.use(i.a),r.a.component("loading",mr),r.a.component("c-form-select",br),cr.dispatch("loadUserCash"),new r.a({el:"#app",router:Ba,store:cr,i18n:g,render:function(t){return t(xr)}})},UpdR:function(t,e){t.exports={lang:"EN",Name:"Name",Email:"Email",Phone:"Phone"}},YFeG:function(t,e){t.exports={lang:"БГ",Name:"Име",Email:"Имейл",Phone:"Телефон"}},pQP2:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9dcf0734d23ec28fd4bb.js.map